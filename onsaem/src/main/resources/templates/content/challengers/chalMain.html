<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout}">


<meta charset="UTF-8">
<meta name="description" content="Ogani Template">
<meta name="keywords" content="Ogani, unica, creative, html">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">


<!-- Google Font -->
<link
	href="https://fonts.googleapis.com/css2?family=Cairo:wght@200;300;400;600;900&display=swap"
	rel="stylesheet">
	

<!-- Css  -->
<th:block layout:fragment="css">
	<link rel="stylesheet" th:href="@{/shoptemplate/css/bootstrap.min.css}"
		type="text/css">
	<link rel="stylesheet"
		th:href="@{/shoptemplate/css/font-awesome.min.css}" type="text/css">
	<link rel="stylesheet" th:href="@{/shoptemplate/css/elegant-icons.css}"
		type="text/css">
	<link rel="stylesheet" th:href="@{/shoptemplate/css/nice-select.css}"
		type="text/css">
	<link rel="stylesheet"
		th:href="@{/shoptemplate/css/shop/css/jquery-ui.min.css}"
		type="text/css">
	<link rel="stylesheet"
		th:href="@{/shoptemplate/css/owl.carousel.min.css}" type="text/css">
	<link rel="stylesheet" th:href="@{/shoptemplate/css/slicknav.min.css}"
		type="text/css">
	<link rel="stylesheet" th:href="@{/shoptemplate/css/style.css}"
		type="text/css">
	
</th:block>


<head>
	<style>
	
	@import url('https://fonts.googleapis.com/icon?family=Material+Icons');
	
		/* GENERAL STYLES */
		.pagination ul {
			margin: auto;
			padding: 0;
			list-style: none;
		}

		/* ONE */
		.p1 li {
			font-size: 14px;
			width: 40px;
			height: 40px;
			line-height: 40px;
			padding: 0;
			text-align: center;
			float: left;
			cursor: pointer;
		}

		.main {
			flex-grow: 1;
			display: flex;
			flex-direction: column;
			min-width: 1400px;
		}

		.main-container {
			padding: 20px;
			flex-grow: 1;
			overflow: auto;
			background-color: #FCFBFC;
		}

		.profile-cover {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			object-fit: cover;
			object-position: center;
			border-radius: 4px;
		}

		.subheader {
			position: relative;
			height: 300px;
			min-height: 250px;
			z-index: 1;
			display: flex;
			justify-content: center;
			align-items: center;
			background-size: cover;
			background-position: center;
		}

		.subheader:before {
			content: "";
			width: 100%;
			height: 100%;
			position: absolute;
			z-index: -1;
			left: 0;
			top: 0;
			background-image:
				url("/course/chal.gif");
			background-repeat: no-repeat;
			background-size: cover;
			background-position: center;
			filter: blur(30px);
			opacity: 0.7;
		}

		.glass {
			height: 100%;
			width: 100%;
			background-image: url("/course/chal.gif");
			background-size: cover;
			background-position: center;
			clip-path: inset(10em);
			filter: blur(5px);
			display: flex;
			justify-content: center;
			align-items: center;
		}

		.drop-shadow {
			height: 155%;
			width: 100%;
			filter: drop-shadow(0px 20px 10px rgba(0, 0, 0, 0.3));
			display: flex;
			justify-content: center;
			align-items: center;
		}

		.drop-shadow:before {
			display: block;
			content: "";
			position: absolute;
			top: 10em;
			height: calc(100% - 20em);
			width: calc(100% - 20em);
			border-top: 2px solid rgba(225, 225, 225, 0.2);
			border-left: 1px solid rgba(225, 225, 225, 0.1);
			border-right: 1px solid rgba(225, 225, 225, 0.3);
			z-index: 2;
		}

		.drop-shadow>span {
			position: absolute;
			z-index: 5;
			color: white;
			font-size: 4em;
			letter-spacing: 0.75em;
			padding-left: 0.375em;
		}

		.sidebar {
			padding: 20px 30px;
			background-color: #ffffff;
			border-radius: 10px;
			margin-bottom: 10px;
		}

		.col-lg-9 {
			background-color: #ffffff;
			padding: 20px 30px;
			border-radius: 20px;
			margin-bottom: 10px;
		}

		.product {
			padding-top: 0px;
			padding-bottom: 80px;
			position: relative;
			z-index: 1;
		}

		.gridView .products-row {
			margin: 8px;
			width: calc(100% - 16px);
			background-color: #f3f6fd;
			border-radius: 4px;
			cursor: pointer;
			transition: transform 0.2s;
			position: relative;
			padding-bottom: 8px;
		}

		.products-row img {
			border-radius: 4px 4px 0px 0px;
			height: 70%;
			width: 100%;
		}

		.product-cell {
			margin: 8px;
			text-align: end;
		}

		.classList .products-row {
			margin: 15px 26px;
			width: calc(30% - 16px);
			background-color: #f3f6fd;
			border-radius: 4px;
			cursor: pointer;
			transition: transform 0.2s;
			position: relative;
			padding-bottom: 8px;
			margin-bottom: 20px;
			height: 400px;
		}

		.classList {
			flex-shrink: 0;
			width: 100%;
			max-width: 100%;
			padding-right: calc(var(--bs-gutter-x) * .5);
			padding-left: calc(var(--bs-gutter-x) * .5);
			margin-top: var(--bs-gutter-y);
			display: flex;
			flex-wrap: wrap;
		}
		
		
	#menu {
	    /* 색 줄높이를 미리 잡고 시작한다 */
	    font-family: 'Noto Sans KR', sans-serif;
	    color : #222;
	    line-height: 1.5em;
	}
	/* 보통 바디태그에 주고나서 a태그에 색상을 주는게 기본이다!!! (상속이 안되니까 별도로) */
	a {
	    color : #222;
	    text-decoration: none;
	}
	
	.dropdown {
	    /* 보더를 통해서 틀을 봐주는게 좋다 ! */
	    /* border: 1px solid #000; */
	    /* width: 200px; */
	    display: inline-block;
	}
	.dropdown-btn {
	    width: 200px;
	    height : 50px;
	    /* 패딩으로 크기 늘려주기 */
	    padding : 10px;
	    font-size: 18px;
	    background-color: #9dc2c0;
	    color : #fff;
	    border: none;
	    cursor: pointer;
	}
	
	.dropdown-submenu{
	    /* border: 1px solid #000; */
	    width:200px;
	    box-shadow: 0 0 10px rgba(0, 0, 0, 0.192);
	    display: none;
	}
	
	.dropdown-submenu a {
	    display: block;
	    padding: 7px;
	    text-align: center;
	}
	
	.dropdown-submenu a:hover{
	    background-color: #eee;
	}
	/* hover 뒤에 다른 selector가 이어지면 앞이 명령의 대상, 뒤에가 style이 수행되고 적용되는 부분 */
	/* dropdown-btn 과 dropdown-sumbenu는 둘이 같은 계층이다 그래서 동작 안하는거임 (상하관계가 되어야 동작함)
	한칸을 띄운다 = 상하관계가 전제가 되어있다는거임 !!!!!*/
	.dropdown:hover .dropdown-submenu {
	    display: block;
	
	}
	</style>
</head>
<!-- Content -->

<div layout:fragment="content">
		<!-- Breadcrumb Section Begin -->
			<div class="main">
		<div class="main-container">
			<div class="subheader">
				<img src="/course/chal.gif" alt="" class="profile-cover">
				<div class="drop-shadow">
					<div class="glass"></div>
					<span>CHALLENGE</span>
				</div>
			</div>
	
		<!-- Breadcrumb Section End -->
		<br>
		<!-- Hero Section Begin -->
		<section class="hero hero-normal" style="position: relative; z-index: 1;">
			<div class="container">
				<div class="row">
					<div class="col-lg-3">
						<div class="hero__categories">
							<div class="hero__categories__all">
								<i class="fa fa-bars"></i> <span>All departments</span>
							</div>
							<ul>
								<li><a href="#">Fresh Meat</a></li>
								<li><a href="#">Vegetables</a></li>
								<li><a href="#">Fruit & Nut Gifts</a></li>
							</ul>
						</div>
					</div>
					<div class="col-lg-9">
						<div class="hero__search">
							<div class="hero__search__form">
								<form action="#">
									<div class="hero__search__categories">
										All Categories <span class="arrow_carrot-down"></span>
									</div>
									<input type="text" placeholder="검색어를 검색하세요" id="searchText">
									<button type="button" class="site-btn" onclick="searchList()">SEARCH</button>
								</form>
							</div>
							<div class="hero__search__phone">
							      <div class="dropdown" id="menu">
							        <button class="dropdown-btn">새 챌린저스 만들기</button>
							        <div class="dropdown-submenu">
							            <a href="/inputNormalChal">개인전 챌린저스 만들기🙋‍♂️</a>
							        	<a href="/inputTeamChal">팀전 챌린저스 만들기🤼‍♀️</a>
							        </div>
							    </div>
							    
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
		<!-- Hero Section End -->
		</div>
			</div>

		<!-- Product Section Begin -->
		<section class="product spad">
			<div class="container">
				<div class="row">
					<div class="col-lg-3 col-md-5">
						<div class="sidebar">
							<div class="sidebar__item">
								<h4>Department</h4>
								<ul>
									<li><a href="/chalDepart?data=모집중">모집 중 챌린지</a></li>
									<li><a href="/chalDepart?data=진행중">진행 중 챌린지</a></li>
									<li><a href="/chalDepart?data=완료">종료 챌린지</a></li>
								</ul>
							</div>
							<div class="sidebar__item">
								<h4>Price</h4>
								<div class="price-range-wrap">
									<div
										class="price-range ui-slider ui-corner-all ui-slider-horizontal ui-widget ui-widget-content"
										data-min="10" data-max="540">
										<div class="ui-slider-range ui-corner-all ui-widget-header"></div>
										<span tabindex="0"
											class="ui-slider-handle ui-corner-all ui-state-default"></span>
										<span tabindex="0"
											class="ui-slider-handle ui-corner-all ui-state-default"></span>
									</div>
									<div class="range-slider">
										<div class="price-input">
											<input type="text" id="minamount"> <input type="text"
												id="maxamount">
										</div>
									</div>
								</div>
							</div>
							<div class="sidebar__item">
								<button type="submit" class="site-btn" onclick=location.href="/inputNgo">기부처 신청하기</button>	
							</div>
							
						</div>
					</div>
					<div class="col-lg-9 col-md-7">
						<div class="product__discount">
							<div class="section-title product__discount__title">
								<h2>기부금 순위</h2>
							</div>
							<div class="row">

									<div class="col-lg-4" th:each="rank :${ranks}">
										<div class="product__discount__item" >
											<div class="product__discount__item__pic set-bg"
												th:src="'/fileView/'+${rank.fileRoute}">
												<div class="product__discount__percent">👼</div>
												<ul class="product__item__pic__hover">
													<li><a href="#"><i class="fa fa-heart"></i></a></li>
													<li><a href="#"><i class="fa fa-retweet"></i></a></li>
													<li><a href="#"><i class="fa fa-shopping-cart"></i></a></li>
												</ul>
											</div>
											<div class="product__discount__item__text">
												<span >챌린지</span>
												<h5>
													<a th:href="@{/detailChal(chalId = ${rank.chalId})}" th:text="${rank.chalName}">Raisin’n’nuts</a>
												</h5>
												<div class="product__item__price">
													<p th:text="'기부금 : ' + ${rank.donationFee} + '원'">$36.00</p>
												</div>
											</div>
										</div>
									</div>
								
							</div>
						</div>
					<div class="classList_container">
						<div class="filter__item">
							<div class="row">
								<div class="col-lg-4 col-md-5">
									<div class="filter__sort">
										<span>Sort By</span> 
										<select id="changeOption" th:onchange="changeOption(this.value)">
											<option value="All">All</option>
											<option  th:each="ngo:${ngoes}" th:value="${ngo.ngoName}" name="ngoName" th:text="${ngo.ngoName}" ></option>
										</select>
									</div>
								</div>
								<div class="col-lg-4 col-md-4">
									<div class="filter__found">
										<h6>
											<span th:text="${#lists.size(chals)}">16</span> Products found
										</h6>
									</div>
								</div>
								<div class="col-lg-4 col-md-3">
									<div class="filter__option">
										<span class="icon_grid-2x2"></span> <span class="icon_ul"></span>
									</div>
								</div>
							</div>
						</div>
					
						<div class="row">
							<div class="col-lg-4 col-md-6 col-sm-6" th:each="chal : ${chals}">
								<div class="product__item">
									<div class="product__item__pic set-bg">
										<img th:src = "'/fileView/'+${chal.fileRoute}" style="width: 100%; height: 100%;">
										<ul class="product__item__pic__hover">
											<li><a href="#"><i class="fa fa-heart"></i></a></li>
											<li><a href="#"><i class="fa fa-retweet"></i></a></li>
											<li><a href="#"><i class="fa fa-shopping-cart"></i></a></li>
										</ul>
									</div>
									<div class="product__item__text">
										<h6>
											<a th:href="@{/detailChal(chalId = ${chal.chalId})}" th:text=${chal.chalName}>Oing</a>
										</h6>
										<h5 th:text="${#dates.format(chal.startDate, 'MM월 dd일')}+'부터 시작!'">$30.00</h5>
										
									</div>
								</div>
							</div>
							<!-- 페이징 -->
							
							<th:block th:replace="fragments/paging :: component(${paging}, 'gopage')">
						</div>
					</div>
				</div>
			</div>
			
		</section>
		<!-- Product Section End -->
		<Script type="text/javascript">
			function searchList(){
				
				let searchText = $('#searchText').val();
				console.log(searchText);
				location.href='/chalListSearch?chalName='+searchText;
			}
			function changeOption(data){
				console.log(data);
				if(data == 'All'){
					location.href="/chalList";
				}else{
					location.href ="/chalListOption?ngoName="+data;
				}	
			}
			
			function gopage(i){
				console.log(i);
				location.href='/chalList?page='+i;
			}
			
			
		</Script>
		<!-- JS -->
		<th:block layout:fragment="script">
		
			<script th:src="@{/shoptemplate/js/jquery-3.3.1.min.js}"></script>
			<script th:src="@{/shoptemplate/js/bootstrap.min.js}"></script>
			<script th:src="@{/shoptemplate/js/jquery.nice-select.min.js}"></script>
			<script th:src="@{/shoptemplate/js/jquery-ui.min.js}"></script>
			<script th:src="@{/shoptemplate/js/jquery.slicknav.js}"></script>
			<script th:src="@{/shoptemplate/js/mixitup.min.js}"></script>
			<script th:src="@{/shoptemplate/js/owl.carousel.min.js}"></script>
			<script th:src="@{/shoptemplate/js/main.js}"></script>
		</th:block>
		
</div>
</html>