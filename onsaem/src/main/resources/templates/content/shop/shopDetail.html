<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout}">

<head>
<style type="text/css">
/* GENERAL STYLES */
.pagination ul {
	margin: auto;
	padding: 0;
	list-style: none;
}

/* ONE */
.p1 li {
	font-size: 14px;
	width: 40px;
	height: 40px;
	line-height: 40px;
	padding: 0;
	text-align: center;
	float: left;
	cursor: pointer;
}

.main {
	flex-grow: 1;
	display: flex;
	flex-direction: column;
	min-width: 1400px;
}

.main-container {
	padding: 20px;
	flex-grow: 1;
	overflow: auto;
	background-color: #FCFBFC;
}

.profile-cover {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	object-fit: cover;
	object-position: center;
	border-radius: 4px;
}

.subheader {
	position: relative;
	height: 300px;
	min-height: 250px;
	z-index: 1;
	display: flex;
	justify-content: center;
	align-items: center;
	background-size: cover;
	background-position: center;
}

.subheader:before {
	content: "";
	width: 100%;
	height: 100%;
	position: absolute;
	z-index: -1;
	left: 0;
	top: 0;
	background-image: url("/course/산.gif");
	background-repeat: no-repeat;
	background-size: cover;
	background-position: center;
	filter: blur(30px);
	opacity: 0.7;
}

.glass {
	height: 100%;
	width: 100%;
	background-image: url("/course/산.gif");
	background-size: cover;
	background-position: center;
	clip-path: inset(10em);
	filter: blur(5px);
	display: flex;
	justify-content: center;
	align-items: center;
}

.drop-shadow {
	height: 155%;
	width: 100%;
	filter: drop-shadow(0px 20px 10px rgba(0, 0, 0, 0.3));
	display: flex;
	justify-content: center;
	align-items: center;
}

.drop-shadow:before {
	display: block;
	content: "";
	position: absolute;
	top: 10em;
	height: calc(100% - 20em);
	width: calc(100% - 20em);
	border-top: 2px solid rgba(225, 225, 225, 0.2);
	border-left: 1px solid rgba(225, 225, 225, 0.1);
	border-right: 1px solid rgba(225, 225, 225, 0.3);
	z-index: 2;
}

.drop-shadow>span {
	position: absolute;
	z-index: 5;
	color: white;
	font-size: 4em;
	letter-spacing: 0.75em;
	padding-left: 0.375em;
}

.sidebar {
	padding: 20px 30px;
	background-color: #ffffff;
	border-radius: 10px;
	margin-bottom: 10px;
}

.col-lg-9 {
	background-color: #ffffff;
	padding: 20px 30px;
	border-radius: 20px;
	margin-bottom: 10px;
}

.product {
	padding-top: 0px;
	padding-bottom: 80px;
	position: relative;
	z-index: 1;
}

.gridView .products-row {
	margin: 8px;
	width: calc(100% - 16px);
	background-color: #f3f6fd;
	border-radius: 4px;
	cursor: pointer;
	transition: transform 0.2s;
	position: relative;
	padding-bottom: 8px;
}

.products-row img {
	border-radius: 4px 4px 0px 0px;
	height: 70%;
	width: 100%;
}

.product-cell {
	margin: 8px;
	text-align: end;
}

.classList .products-row {
	margin: 15px 26px;
	width: calc(30% - 16px);
	background-color: #f3f6fd;
	border-radius: 4px;
	cursor: pointer;
	transition: transform 0.2s;
	position: relative;
	padding-bottom: 8px;
	margin-bottom: 20px;
	height: 400px;
}

.classList {
	flex-shrink: 0;
	width: 100%;
	max-width: 100%;
	padding-right: calc(var(- -bs-gutter-x)* .5);
	padding-left: calc(var(- -bs-gutter-x)* .5);
	margin-top: var(- -bs-gutter-y);
	display: flex;
	flex-wrap: wrap;
}

.product__discount {
	margin-top: 104px;
}

#categoryList {
	margin-top: 18px;
}

button {
	all: unset;
	background-color: #9dc2c0;
	color: white;
	padding: 5px 25px;
	border-radius: 10px;
	cursor: pointer;
}

.btn {
	margin-top: 60px;
}

.modal {
	display: flex;
	justify-content: center;
	align-items: center;
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
}

.modal__background {
	background-color: rgba(0, 0, 0, 0.6);
	width: 100%;
	height: 100%;
	position: absolute;
}

.modal__content {
	text-align: center;
	position: relative;
	background-color: white;
	border-radius: 10px;
	top: 0;
	padding: 10px 25px;
	width: 20%;
}

h1 {
	margin: 0;
	margin-bottom: 13px;
}

.hidden {
	display: none;
}


.cover{
	object-fit:cover;
	width:309px;
	height:309px;
}
</style>
<script type="text/javascript"
	th:src="@{/smarteditor/js/HuskyEZCreator.js}"></script>
</head>


<title>shop detail</title>



<!-- Google Font -->
<link
	href="https://fonts.googleapis.com/css2?family=Cairo:wght@200;300;400;600;900&display=swap"
	rel="stylesheet">

<!-- Css  -->
<th:block layout:fragment="css">
	<link rel="stylesheet"
		th:href="@{/shoptemplate/css/font-awesome.min.css}" type="text/css">
	<link rel="stylesheet" th:href="@{/shoptemplate/css/elegant-icons.css}"
		type="text/css">
	<link rel="stylesheet" th:href="@{/shoptemplate/css/nice-select.css}"
		type="text/css">
	<link rel="stylesheet"
		th:href="@{/shoptemplate/css/shop/css/jquery-ui.min.css}"
		type="text/css">
	<link rel="stylesheet"
		th:href="@{/shoptemplate/css/owl.carousel.min.css}" type="text/css">
	<link rel="stylesheet" th:href="@{/shoptemplate/css/slicknav.min.css}"
		type="text/css">
	<link rel="stylesheet" th:href="@{/shoptemplate/css/style.css}"
		type="text/css">
</th:block>

<div layout:fragment="content">
	<div class="subheader">
		<img src="/course/산.gif" alt="" class="profile-cover">
		<div class="drop-shadow">
			<div class="glass"></div>
			<span>SHOP</span>
		</div>
	</div>
	<!-- Product Details Section Begin -->
	<section class="product-details spad" th:each="product:${productList}">
		<div class="container">
			<div class="row">
				<div class="col-lg-6 col-md-6">
					<div class="product__details__pic">
						<div class="product__details__pic__item">
							<img class="product__details__pic__item--large"
								th:src="@{/fileView/{fileRoute}/
									(fileRoute=${product.fileRoute})}"
								alt="">
						</div>

					</div>
				</div>
				<div class="col-lg-6 col-md-6">
					<div class="product__details__text">
						<h3 th:text=${product.productName}>Vetgetable’s Package</h3>
						<div class="product__details__rating">
							<div style="display: inline-block" th:if="${product.star}!=0">
								<i class="fa fa-star"
									th:each="num:${#numbers.sequence(1,product.star)}"></i> <i
									class="fa-solid fa-star-half" th:if="${product.star%1 >= 0.5}"></i>
							</div>
							<span id="totalReview2">(18 reviews)</span>
							<button class="openBtn" sec:authorize="isAuthenticated()"
								style="background-color: #9dc2c0">신고하기</button>
							<button sec:authorize="isAnonymous()" onclick="noLogin()"
								style="background-color: #9dc2c0">신고하기</button>

						</div>
						<div class="product__details__price" th:text="|${#numbers.formatInteger(product.price, 0, 'COMMA')}원|">$50.00</div>
						<p th:text=${product.productDetail}>Mauris blandit aliquet
							elit, eget tincidunt nibh pulvinar a. Vestibulum ac diam sit amet
							quam vehicula elementum sed sit amet dui. Sed porttitor lectus
							nibh. Vestibulum ac diam sit amet quam vehicula elementum sed sit
							amet dui. Proin eget tortor risus.</p>
						<div style="margin: auto">
							<div class="product__details__quantity">
								<div class="quantity">
									<div class="pro-qty" style="margin-left: 10px;">
										<input type="text" value="1" class="proAmount">
									</div>
								</div>
							</div>
							<select class="options" onchange="optionEvent(this.value)">
								<option value='' selected>-- 옵션 --</option>
								<option th:each="option:${optionList}"
									th:value="${option != null ? option.optionContent : null}"
									th:text="${option != null ? option.optionContent : null}"></option>
							</select> <a th:onclick="cartEvent(this)" class="primary-btn"
								sec:authorize="isAuthenticated()" style="cursor: pointer">장바구니
								담기</a> <a onclick="noLogin()" class="primary-btn"
								sec:authorize="isAnonymous()" style="cursor: pointer">장바구니
								담기</a>
							<button th:onclick="changeHeart(this)" style="border: solid 0px;"
								class="change-heart" sec:authorize="isAuthenticated()" id="heartCheck">🤍</button>
							<br>
						</div>
						<a th:onclick="buyProduct([[${productList}]])" class="primary-btn"
							sec:authorize="isAuthenticated()" style="cursor: pointer">구매하기</a>
						<a class="primary-btn" sec:authorize="isAnonymous()"
							onclick="noLogin()" style="cursor: pointer;">구매하기</a>
						<ul>
							<li><b>Shipping</b> <span>01 day shipping. </span>
						</ul>
					</div>
				</div>
				<div class="col-lg-12">
					<div class="product__details__tab">
						<ul class="nav nav-tabs" role="tablist">
							<li class="nav-item"><a class="nav-link active"
								data-toggle="tab" href="#tabs-1" role="tab" aria-selected="true">상세정보</a>
							</li>
							<li class="nav-item"><a class="nav-link" data-toggle="tab"
								href="#tabs-4" role="tab" aria-selected="false">구매안내 </a></li>
							<li class="nav-item"><a class="nav-link" data-toggle="tab"
								href="#tabs-2" role="tab" aria-selected="false">상품후기<span
									id="totalReview">(1)</span></a></li>
							<li class="nav-item"><a class="nav-link" data-toggle="tab"
								href="#tabs-3" role="tab" aria-selected="false">상품문의 </a></li>

						</ul>

						<!-- 상품상세보기 -->
						<div class="tab-content">
							<div class="tab-pane active" id="tabs-1" role="tabpanel"
								th:each=product:${productList}>
								<div class="product__details__tab__desc">
									<div class="product__details__pic__slider owl-carousel">
										<img th:each="img:${imgList}"
											th:data-imgbigurl="@{/fileView/{fileRoute}/
									(fileRoute=${img.fileRoute})}"
											th:src="@{/fileView/{fileRoute}/
									(fileRoute=${img.fileRoute})}"
											alt="" class="cover">
									</div>
									<br>

									<div style="margin-left: 193px; width: 100%; height: 558px;">
										<img alt="" th:src="@{/shoptemplate/img/product/회원혜택.jpg}">
									</div>
									<div style="margin-left: 402px;">
										<p>[(${product.productInfo})]</p>
									</div>
									<div th:each="nature : ${natureImg}"
										style="margin-left: 231px; width: 100%;">
										<img alt=""
											th:src="@{/fileView/{fileRoute}/
									(fileRoute=${nature.fileRoute})}">

									</div>
								</div>
							</div>

							<!-- 상품리뷰 -->
							<div class="tab-pane" id="tabs-2" role="tabpanel">
								<div class="product__details__tab__desc">
									<main>
										<section class="news-section section-padding"
											style="padding: 0px;">
											<div class="container">
												<div class="row">
													<div class="col-lg-12">
														<div class="shoping__cart__table">
															<table>
																<thead>
																	<tr>
																		<th>상품만족도<br> <i class="fa fa-star"
																			th:each="num:${#numbers.sequence(1,product.star)}"></i>
																			<i class="fa-solid fa-star-half"
																			th:if="${product.star%1 >= 0.5}"></i>[[${product.star}]]/5
																		</th>
																		<th>리뷰 개수<br> <i
																			class="fa-sharp fa-solid fa-comment"></i>
																			[[${#lists.size(reviewList)}]]
																		</th>
																	</tr>
																</thead>
																<tbody>
																	<tr>
																	</tr>
																</tbody>
															</table>

														</div>
													</div>
													<div class="author-comment d-flex mt-3 mb-4"
														th:each=" review : ${reviewList}">
														<div th:if="${review.level}==1">
															<div class="author-comment-info ms-3">
																<div style="float: left; text-align: center;">
																	<i class="fa fa-star"
																		th:each="num:${#numbers.sequence(1,review.reviewStar)}"></i>
																	<i class="fa-solid fa-star-half"
																		th:if="${review.reviewStar%1 >= 0.5}"></i><br> <img
																		src="/shoptemplate/img/소비자.jpg"
																		class="img-fluid avatar-image" alt=""> <br>[[${#dates.format(review.reviewDate,
																	'YY.MM.dd HH:mm')}]]
																</div>

																<p style="margin-left: 200px">
																	[[${review.writerId}]]<br>[[${review.reviewContent}]]
																</p>
															</div>
														</div>
														<div th:unless="${review.level}==1"
															style="margin-left: 100px">
															<div class="author-comment-info ms-3">
																<div style="float: left; text-align: center;">
																	 <img
																		src="/shoptemplate/img/판매자.jpg"
																		class="img-fluid avatar-image" alt=""> <br>[[${#dates.format(review.reviewDate,
																	'YY.MM.dd HH:mm')}]]
																</div>

																<p style="margin-left: 200px">
																	[[${review.writerId}]]<br>[[${review.reviewContent}]]
																</p>
															</div>
														</div>
													</div>
												</div>
												<div style="text-align: center">
													<a th:onclick="reviewWrite()" class="primary-btn"
														sec:authorize="isAuthenticated()" style="cursor: pointer">리뷰작성하기</a>
													<a href="javascript:location.reload()" class="primary-btn"
														sec:authorize="isAnonymous()" onclick="noLogin()"
														style="cursor: pointer">리뷰작성하기</a>
												</div>
											</div>
										</section>
									</main>
								</div>
							</div>

							<!-- 상품문의 -->
							<div class="tab-pane" id="tabs-3" role="tabpanel">
								<div class="product__details__tab__desc">
									<h6>Products Infomation</h6>
									<p></p>
								</div>
							</div>
							<!-- 구매안내 -->
							<div class="tab-pane" id="tabs-4" role="tabpanel">
								<div class="product__details__tab__desc">
									<h6>
										PAYMENT INFO<br> 상품결제정보
									</h6>
									<p>
										고액결제의 경우 안전을 위해 카드사에서 확인전화를 드릴 수도 있습니다. 확인과정에서 도난 카드의 사용이나 타인
										명의의 주문등 정상적인 주문이 아니라고 판단될 경우 임의로 주문을 보류 또는 취소할 수 있습니다. <br>
										<br> 무통장 입금은 상품 구매 대금은 PC뱅킹, 인터넷뱅킹, 텔레뱅킹 혹은 가까운 은행에서 직접
										입금하시면 됩니다. 주문시 입력한 입금자명과 실제입금자의 성명이 반드시 일치하여야 하며, 7일 이내로 입금을
										하셔야 하며 입금되지 않은 주문은 자동취소 됩니다.
									</p>
									<br>
									<h6>
										DELIVERY INFO<br>배송정보
									</h6>
									<p>
										배송 방법 : 택배 배송 <br> <br>지역 : 전국지역<br> <br>
										배송 비용 : 3,000원<br> <br> 배송 기간 : 3일 ~ 7일 <br> <br>배송
										안내 : - 산간벽지나 도서지방은 별도의 추가금액을 지불하셔야 하는 경우가 있습니다. 고객님께서 주문하신 상품은
										입금 확인후 배송해 드립니다. 다만, 상품종류에 따라서 상품의 배송이 다소 지연될 수 있습니다.
									</p>
									<br>
									<h6>
										EXCHANGE INFO <br>교환 및 반품정보
									</h6>
									<p>
										교환 및 반품 주소 - 서울시 은평구 통일로 684, 서울혁신파크 미래청 319B <br> <br>교환
										및 반품이 가능한 경우 <br> <br>- 상품을 공급 받으신 날로부터 7일이내 단,
										가전제품의 경우 포장을 개봉하였거나 포장이 훼손되어 상품가치가 상실된 경우에는 교환/반품이 불가능합니다.<br>
										<br> - 공급받으신 상품 및 용역의 내용이 표시.광고 내용과 다르거나 다르게 이행된 경우에는
										공급받은 날로부터 3월이내, 그사실을 알게 된 날로부터 30일이내 교환 및 반품이 불가능한 경우 - 고객님의
										책임 있는 사유로 상품등이 멸실 또는 훼손된 경우. 단, 상품의 내용을 확인하기 위하여 포장 등을 훼손한 경우는
										제외<br> <br> - 포장을 개봉하였거나 포장이 훼손되어 상품가치가 상실된 경우 (예 :
										가전제품, 식품, 음반 등, 단 액정화면이 부착된 노트북, LCD모니터, 디지털 카메라 등의 불량화소에 따른
										반품/교환은 제조사 기준에 따릅니다.)<br> <br> - 고객님의 사용 또는 일부 소비에
										의하여 상품의 가치가 현저히 감소한 경우 단, 화장품등의 경우 시용제품을 제공한 경우에 한 합니다. - 시간의
										경과에 의하여 재판매가 곤란할 정도로 상품등의 가치가 현저히 감소한 경우 - 복제가 가능한 상품등의 포장을
										훼손한 경우 (자세한 내용은 고객만족센터 1:1 E-MAIL상담을 이용해 주시기 바랍니다.)<br> <br>
										※ 고객님의 마음이 바뀌어 교환, 반품을 하실 경우 상품반송 비용은 고객님께서 부담하셔야 합니다. (색상 교환,
										사이즈 교환 등 포함)
									</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- Product Details Section End -->

	<!-- 상품신고모당창 -->
	<div class="modal hidden">
		<div class="modal__background"></div>
		<div class="modal__content">
			<h3>신고하기</h3>
			<div class="modalText">
				<p>사유선택</p>
				<input type="checkbox" name="reason" id="ban1"
					th:onclick="checkOnlyone(this)" value="욕설 및 비하 발언">욕설 및 비하
				발언 <span id="1"></span><br> <input type="checkbox"
					value="친환경 물품이 아님" id="ban2" name="reason"
					th:onclick="checkOnlyone(this)"> 친환경 물품이 아님<span id="2"></span>

				<br> <input type="checkbox" value="불건전한 게시물 등록" name="reason"
					id="ban3" th:onclick="checkOnlyone(this)"> 불건전한 게시물 등록 <span
					id="3"></span><br> <input type="checkbox" value="기타"
					name="reason" id="ban4" th:onclick="checkOnlyone(this)"> 기타
				<span id="4"></span> <br>

				<button th:onclick="banSubmit()">신고하기</button>
				<button class="closeBtn">닫기</button>
			</div>
		</div>
	</div>





	<!-- JS -->
	<th:block layout:fragment="script">
		<script th:src="@{/shoptemplate/js/jquery-3.3.1.min.js}"></script>
		<script th:src="@{/shoptemplate/js/bootstrap.min.js}"></script>
		<script th:src="@{/shoptemplate/js/jquery.nice-select.min.js}"></script>
		<script th:src="@{/shoptemplate/js/jquery-ui.min.js}"></script>
		<script th:src="@{/shoptemplate/js/jquery.slicknav.js}"></script>
		<script th:src="@{/shoptemplate/js/mixitup.min.js}"></script>
		<script th:src="@{/shoptemplate/js/owl.carousel.min.js}"></script>
		<script th:src="@{/shoptemplate/js/main.js}"></script>

		<script type="text/javascript">		
		//csrf설정
		 var token = $("meta[name='_csrf']").attr("content");
		 var header = $("meta[name='_csrf_header']").attr("content");		 
		
		 
		 let oEditors = [];
			
			smartEditor = function() {
				nhn.husky.EZCreator.createInIFrame({
					oAppRef: oEditors,
					elPlaceHolder: "ir1",
					sSkinURI: "/smarteditor/SmartEditor2Skin.html",
					fCreator: "createSEditor2"
				});
			}
			
			$(document).ready(function() {
			      smartEditor()
			    })
		 //리뷰갯수 가져오기
		  window.onload=function(){	
			 productId="[[${param.data}]]";			  
			 $.ajax({
					type : 'get', 
					url : '/shop/totalReview', 										
					beforeSend : function(xhr)
		            {
		            	xhr.setRequestHeader(header, token);
		            },
		            data:{
		            	"groupId":productId
		            },
					success : function(result) {					
						$("#totalReview").text('('+result[0].groups+')');
						$("#totalReview2").text('('+result[0].groups+' reviews)');
					},
					error : function(error) { 
						console.log(error)
					}
				}) 
				 $.ajax({
						type : 'get', 
						url : '/shop/checkLike', 										
						beforeSend : function(xhr)
			            {
			            	xhr.setRequestHeader(header, token);
			            },
			            data:{
			            	"groupId":productId
			            },
						success : function(result) {							
							if(result.length!=0){								
								$("#heartCheck").text('❤');
							}
						},
						error : function(error) { 
							console.log(error)
						}
					}) 	
		 } 
		 
		 //구매한 상품 리뷰작성
		 function reviewWrite(){			
		 	productId="[[${param.data}]]"
			  $.ajax({
					type : 'post', 
					url : '/shop/compareReview', 										
					beforeSend : function(xhr)
		            {
		            	xhr.setRequestHeader(header, token);
		            },		      
		            data:{"productId":productId},
					success : function(result) {					
						if(result=='불가능'){
							alert("구매 후 작성 가능합니다.")
						}else{
							 if (!confirm("리뷰 작성페이지로 이동하시겠습니까?")) {
							        // 취소(아니오) 버튼 클릭 시 이벤트
							    } else {
							        // 확인(예) 버튼 클릭 시 이벤트
							        location.href="/shop/shopMyOrder"
							    }
						}
					},
					error : function(error) { 
						console.log(error)
					}
				}) 
		 }
		 
		 //로그인 안햇을때 실행
		 function noLogin(){
			 alert("로그인 후 이용가능 합니다.")			 
		 }
		 
				//찜선택
				function changeHeart(data){	
					const urlParams = new URL(location.href).searchParams;
					const name = urlParams.get('data');	
					if(data.innerText=="🤍")	{				
						fetch('/likeAdd?data='+name)						
						  .then((response) => console.log('success'))
						  .then((data) => console.log(data));		
						data.innerText="❤"				
					}else{					
						fetch('/likeDel?data='+name)
						  .then((response) => console.log('success'))
						  .then((data) => console.log(data));
						data.innerText="🤍"
					};					
				}
				
				function optionEvent(data){				
					let options=document.querySelector(".options").value;
					options.value(data);
				}
				
				//장바구니담기
				function cartEvent(data){
					let cartAmount=document.querySelector(".proAmount").value;
					let cartOption=document.querySelector(".options").value;
					let urlParams = new URL(location.href).searchParams;
					let productId = urlParams.get('data');							
					 fetch('/cartAdd?productId='+productId+'&cartAmount='+cartAmount+'&cartOption='+cartOption)
					  .then((response) => alert('장바구니에 담겼습니다.'))		
				}
			
					
				//상품신고모달창 생성
				const openButton = document.querySelector(".openBtn");
				const modal = document.querySelector(".modal");
				const closeButton = modal.querySelector(".closeBtn");
				const modalBackground = modal.querySelector(".modal__background");

				function displayModal(){
				    modal.classList.toggle("hidden");
				}

				openButton.addEventListener("click", displayModal);
				closeButton.addEventListener("click", displayModal)
				modalBackground.addEventListener("click", displayModal);
			
				
				//신고체크박스시 자세내용적기 창 생성
				function checkOnlyone(element){
					const reason=document.getElementsByName("reason");
					reason.forEach((cb) => 
					{cb.checked = false;	
					let span=cb.nextElementSibling;
					span.innerHTML="";	
					})						
					element.checked = true;
					let span=element.nextElementSibling;
					span.innerHTML="<br><textarea style='width: 100%;' cols='40' rows='5'  name='text' placeholder='상세설명' id='detailReason'></textarea>";										
				}
				
				//신고제출
				function banSubmit(){			
					let reasonLength = document.getElementsByName("reason").length;  
       				for (var i=0; i<reasonLength; i++) {
            			if (document.getElementsByName("reason")[i].checked == true) {                			
                			var reason=document.getElementsByName("reason")[i].value
            			}
					}       				
       				let detailReason=document.getElementById("detailReason").value;
       				let fromId="[[${session.id}]]";
    				let groupId="[[${param.data}]]";
       				fetch('/addBan',{
       					headers: {
       					    "Content-Type": "application/json",
       					    "X-CSRF-TOKEN":token
       					  },
       					method:"post",       					
       					body: JSON.stringify({
       						reason: reason,
       						detailReason: detailReason,
       						fromId:fromId,
       						groupId:groupId
       					  })
       					})       				
					  .then((response) => {
						    alert('신고처리 되었습니다.');
						    displayModal();})					
				}
				
				//주문결제페이지이동
				function buyProduct(data){					
					let productId=data[0].productId;
					let cartAmount=document.querySelector(".proAmount").value;
					let cartOption=document.querySelector(".options").value;
					location.href='/buyProduct?productId='+productId+'&amount='+cartAmount+'&option='+cartOption;			
				}
				
				
			</script>
	</th:block>
</div>
<!-- Related Product Section End -->