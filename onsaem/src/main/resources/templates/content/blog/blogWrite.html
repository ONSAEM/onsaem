<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout}">
<head>
<meta charset="UTF-8">
<meta name="description" content="Ogani Template">
<meta name="keywords" content="Ogani, unica, creative, html">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

<!-- Css  -->
<th:block layout:fragment="css">
	<link rel="stylesheet" th:href="@{/shoptemplate/css/bootstrap.min.css}"
		type="text/css">
	<link rel="stylesheet"
		th:href="@{/shoptemplate/css/font-awesome.min.css}" type="text/css">
	<link rel="stylesheet" th:href="@{/shoptemplate/css/elegant-icons.css}"
		type="text/css">
	<link rel="stylesheet" th:href="@{/shoptemplate/css/nice-select.css}"
		type="text/css">
	<link rel="stylesheet"
		th:href="@{/shoptemplate/css/jquery-ui.min.css}"
		type="text/css">
	<link rel="stylesheet"
		th:href="@{/shoptemplate/css/owl.carousel.min.css}" type="text/css">
	<link rel="stylesheet" th:href="@{/shoptemplate/css/slicknav.min.css}"
		type="text/css">
	<link rel="stylesheet" th:href="@{/shoptemplate/css/style.css}"
		type="text/css">
</th:block>

<style>
 /* VARIABLES -  START */
/* COLORS  */
/* DIMENSIONS */
/* FONTS */
@import url("https://fonts.googleapis.com/css2?family=Lato:wght@300&display=swap");
/* VARIABLES - END */
/* COMMONS - START */
.flex-center, .wrapper .button-container, .wrapper {
  justiy-content: center;
  align-items: center;
}

* {
  box-sizing: border-box;
  margin: 0;
}

/* COMMONS - END */
/* STYLES -  START */
.wrapper {
  font-family: "Lato", sans-serif;
  font-weight: 400;
}
.heartbutton {
  height: 50px;
  width: 170px;
  background-color: #fefefe;
  border-radius: 5px;
  padding: 12.5px;
  cursor: pointer;
}

.content .icon {
  font-size: 25px;
  color: #ea4a87;
}
.content .icon.fa {
  display: none;
}
.content .text {
  font-size: 25px;
  color: #2f3537;
}
.content .text.like {
  margin-left: 10px;
}
.content .text.d {
  opacity: 0;
  display: inline-block;
  transform: translateX(12px);
}
.content .text.number {
  margin-left: 10px;
  color: #7a7c81;
}

/* STYLES - END */

/* ì‹ ê³ ëª¨ë‹¬ */
.modal {
	display: flex;
	justify-content: center;
	align-items: center;
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
}

.modal__background {
	background-color: rgba(0, 0, 0, 0.6);
	width: 100%;
	height: 100%;
	position: absolute;
}

.modal__content {
	text-align: center;
	position: relative;
	background-color: white;
	border-radius: 10px;
	top: 0;
	padding: 10px 25px;
	width: 20%;
}
.hidden {
	display: none;
} 
</style>

</head>

<!-- Content -->

<div layout:fragment="content">
	
	<!-- Blog Details Hero Begin -->
	<section class="blog-details-hero set-bg"
		th:data-setbg="@{/shoptemplate/img/blog/details/details-hero.jpg}">
		<div class="container">
			<div class="row">
				<div class="col-lg-12">
					<div class="blog__details__hero__text">
						<h2>[[${blogWrite.writeTitle}]]</h2>
						<ul>
							<li>By [[${blogWrite.nickname}]]</li>
							<li>[[${#dates.format(blogWrite.writeDate, 'YYYY-MM-DD')}]]</li>
							<li>[[${replyCnt.replyCnt}]] Comments</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- Blog Details Hero End -->

	<!-- Blog Details Section Begin -->
	<section class="blog-details spad">
		<div class="container">
			<div class="row">
				<div class="col-lg-4 col-md-5 order-md-1 order-2">
					<div class="blog__sidebar">
						<div class="blog__sidebar__item">
							<h4>Categories</h4>
							<ul th:each="cate:${category}">
                                <li><a href="#">[[${cate.categoryName}]]</a></li>
                            </ul>
						</div>
						
					</div>
				</div>
				<div class="col-lg-8 col-md-7 order-md-1 order-1"> <!--------------------------ì‹ ê³ !!!!! -->
					<i type="button" class="fa-solid fa-triangle-exclamation openBtn" style="float:right;"
					th:value1="${blogWrite.writeId}" th:value2="${blogWrite.blogId}">ì‹ ê³ í•˜ê¸°</i>
					<button style="float:right;" id="blogUpdate" th:onclick="|location.href='@{/blog/myblog/blogWrite/blogUpdate(bno=${blogWrite.writeId})}'|" th:if="${#authentication.principal != 'anonymousUser' ? #authentication.principal.memberId:''} == ${blogWrite.blogId}">ìˆ˜ì •</button>
					<button style="float:right;" id="blogDelete" th:value="${blogWrite.writeId}" th:if="${#authentication.principal != 'anonymousUser' ? #authentication.principal.memberId:''} == ${blogWrite.blogId}">ì‚­ì œ</button>
					<div class="blog__details__text">
						 [(${blogWrite.blogWrite})]
					</div>
					<div class="blog__details__content">
						<div class="row">
							<div class="col-lg-6">
								<div class="blog__details__author">
									<div class="blog__details__author__pic">
									
										<img th:if="${blogWrite.fileRoute != null}"
											th:src="'/fileView/'+${blogWrite.fileRoute}"
											alt="profile-sample5" class="profile" />
										<img th:if="${blogWrite.fileRoute == null}"
											th:src="@{/images/defaulltProfile.png}"
											alt="profile-sample5" class="profile" />
										
									</div>
									<div class="blog__details__author__text">
										<h6>[[${blogWrite.nickname}]]</h6>
										<span>[[${blogWrite.blogId}]]</span>
									</div>
								</div>
							</div>
							<div class="col-lg-6">
								<div class="blog__details__widget">
									<ul>
					<!-------------------- í•˜íŠ¸ ------------------------->
										<li><div class="wrapper" >
												<div class="button-container">
													<div class="heartbutton">
														<span class="content"> <i class="icon fa fa-heart"
															aria-hidden="true"></i> <i class="icon far fa-heart"
															aria-hidden="true"></i> <span class="text like">Like<span
																class="text d">d</span></span> <span class="text number" th:text="${cntBlogLike.count}"></span>
														</span>
														<input type="hidden" class="blogLike" th:value=${likeCount}> <!-- ì´ˆê¸°ê°’ì„ Fë¡œ ë‘ê¸° -->
													</div>
												</div>
											</div></li>
					<!-------------------- í•˜íŠ¸ ë ------------------------->	
<!-- 										<li><span>Categories:</span>[[${blogWrite.categoryName}]]</li> -->
									</ul>
								</div>
								<!-- ì¹´í†¡ -->
								<a id="kakaotalk-sharing-btn" href="javascript:;">
								  <img src="https://developers.kakao.com/assets/img/about/logos/kakaotalksharing/kakaotalk_sharing_btn_medium.png"
								    alt="ì¹´ì¹´ì˜¤í†¡ ê³µìœ  ë³´ë‚´ê¸° ë²„íŠ¼" />
								</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		
<!-------------ëŒ“ê¸€--------------------------------------------------->
		<main>
			<section class="news-section section-padding">
            <div class="container">
                <div class="row">
                	<div class="rere">
                	<div th:each=" reply : ${replyList}">
                		<div th:if="${reply.level} == 1">
		                	<div class="author-comment d-flex mt-3 mb-4">
		                			<div class="blog__details__author__pic">
                                 		<img th:if="${reply.fileRoute != null}"
											th:src="'/fileView/'+${reply.fileRoute}"
											alt="profile-sample5" class="profile" />
										<img th:if="${reply.fileRoute == null}"
											th:src="@{/images/defaulltProfile.png}"
											alt="profile-sample5" class="profile" />
									</div>

                                 <div class="author-comment-info ms-3">
                                     <h6 class="mb-1"><span style="font-weight:bold" id="writerIdText">[[${reply.writerId}]]</span> <a th:if="${blogWrite.blogId} == ${reply.writerId}" style="color:#5bc1ac;font-weight:bold;">[ì‘ì„±ìğŸ€]</a> ([[${#dates.format(reply.replyDate, 'YY.MM.DD HH:mm')}]])</h6>

                                     <p class="mb-0" th:if="${reply.publicScope!='private'} or ${#authentication.principal != 'anonymousUser' ? #authentication.principal.memberId:''} == ${blogWrite.blogId} or ${#authentication.principal != 'anonymousUser' ? #authentication.principal.memberId:''} == ${reply.writerId}"> <span th:if="${reply.publicScope == 'private'}"> ğŸ”’ </span> [[${reply.content}]]</p>
                                     <p class="mb-0" th:unless="${reply.publicScope!='private'} or ${#authentication.principal != 'anonymousUser' ? #authentication.principal.memberId:''} == ${blogWrite.blogId} or ${#authentication.principal != 'anonymousUser' ? #authentication.principal.memberId:''} == ${reply.writerId}"> ğŸ¤ ê¸€ ì‘ì„±ìì™€ ë³¸ì¸ë§Œ ë³¼ ìˆ˜ ìˆëŠ” ëŒ“ê¸€ì…ë‹ˆë‹¤.</p>

                                     <div class="d-flex mt-2">
                                         <a type="button" class="author-comment-link rereplyBtn" sec:authorize="isAuthenticated()">ëŒ“ê¸€ë‹¬ê¸°</a>
                                          <!-- ëŒ€ëŒ“ê¸€ -->
                                          <form class="custom-form comment-form mt-4 rereplyFrm" role="form" name="rereplyFrm" style="display:none;">
	                                	<input type="hidden" id="token" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/> 
	                                    <textarea name="content" rows="4" class="form-control rereplyBox" id="comment-message"
	                                        placeholder="ì˜¨ìƒ˜ì€ ì‹ ê³  ê´€ë¦¬ë¥¼ ì² ì €í•˜ê²Œ í•©ë‹ˆë‹¤. ëŒ“ê¸€ ì‘ì„± ì‹œ, í•œë²ˆ ë” ìƒê°í•´ì£¼ì„¸ìš”"></textarea>
	
	                                    	<div class="col-lg-3 col-md-4 col-6 ms-auto">
<!-- 			                                        <button type="button" id="replyBtn" class="form-control" sec:authorize="isAnonymous()" disabled>ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤ <a th:href="@{/loginPage}">login</a></button> -->
	                                        	<input type="checkbox" name="publicScope" id="scopeReply" value="public"/> <span style="color:blue;font-weight:bold;">ë¹„ë°€ëŒ“ê¸€ ğŸ”’</span>
	                                        	<button type="button" class="form-control rereplyInsert" th:if="${#authentication.principal != 'anonymousUser' ? #authentication.principal.memberId:''}">ë“±ë¡</button>
	                                    	</div>
	                                    <input type="hidden" name="groupId" th:value="${reply.replyId}">
	                                </form>
                                          <!-- ëŒ€ëŒ“ê¸€ ë -->
								<a type="button" class="author-comment-link me-3 reDelBtn" th:value="${reply.replyId}" th:if="${#authentication.principal != 'anonymousUser' ? #authentication.principal.memberId:''} == ${blogWrite.blogId}"><span style="color:red;">ì‚­ì œ</span></a>
                                         <a type="button" class="author-comment-link me-3 openBtn" id="replyIdVal" th:value1="${reply.replyId}" th:value2="${reply.writerId}" sec:authorize="isAuthenticated()"><span style="color:red;">ì‹ ê³ </span></a>
                                     </div>
                                 </div>
	                     </div>
                     </div>
                     <!-- ëŒ€ëŒ“ê¸€ ë¦¬ìŠ¤íŠ¸ -->
                     <div th:unless="${reply.level} == 1">
                     		<div class="rereTemplate">	
                                <div class="author-comment d-flex ms-5 ps-3">
                                		<div class="blog__details__author__pic">
	                                    	<img th:if="${reply.fileRoute != null}"
												th:src="'/fileView/'+${reply.fileRoute}"
												alt="profile-sample5" class="profile" />
											<img th:if="${reply.fileRoute == null}"
												th:src="@{/images/defaulltProfile.png}"
												alt="profile-sample5" class="profile" />
										</div>

                                    <div class="author-comment-info ms-3">
                                        <h6 class="mb-1">
                                        <span style="font-weight:bold" id="writerIdText">[[${reply.writerId}]]</span> 
                                        <a th:if="${blogWrite.blogId} == ${reply.writerId}" style="color:#5bc1ac;font-weight:bold;">[ì‘ì„±ìğŸ€]</a> 
                                        ([[${#dates.format(reply.replyDate, 'YY.MM.DD HH:mm')}]])</h6>

                                        <p class="mb-0" th:if="${reply.publicScope!='private'} or ${#authentication.principal != 'anonymousUser' ? #authentication.principal.memberId:''} == ${blogWrite.blogId} or ${#authentication.principal != 'anonymousUser' ? #authentication.principal.memberId:''} == ${reply.writerId}"> <span th:if="${reply.publicScope == 'private'}"> ğŸ”’ </span> [[${reply.content}]]</p>
                                     	<p class="mb-0" th:unless="${reply.publicScope!='private'} or ${#authentication.principal != 'anonymousUser' ? #authentication.principal.memberId:''} == ${blogWrite.blogId} or ${#authentication.principal != 'anonymousUser' ? #authentication.principal.memberId:''} == ${reply.writerId}"> ğŸ¤ ê¸€ ì‘ì„±ìì™€ ë³¸ì¸ë§Œ ë³¼ ìˆ˜ ìˆëŠ” ëŒ“ê¸€ì…ë‹ˆë‹¤.</p>

                                        <div class="d-flex mt-2">
                                            <a href="#" class="author-comment-link me-3">ì‹ ê³ </a>
                                            <a type="button" class="author-comment-link me-3 reDelBtn" th:value="${reply.replyId}"><span style="color:red;">ì‚­ì œ</span></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                    </div>      
					<!--  ëŒ€ëŒ“ê¸€ ë -->
					
					</div>
				</div>
                                <form class="custom-form comment-form mt-4" role="form" name="replyFrm">
                                	<input type="hidden" id="token" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/> 
                                    <h6 class="mb-3">ëŒ“ê¸€</h6>

                                    <textarea name="content" rows="4" class="form-control" id="comment-message"
                                        placeholder="ì˜¨ìƒ˜ì€ ì‹ ê³  ê´€ë¦¬ë¥¼ ì² ì €í•˜ê²Œ í•©ë‹ˆë‹¤. ëŒ“ê¸€ ì‘ì„± ì‹œ, í•œë²ˆ ë” ìƒê°í•´ì£¼ì„¸ìš”"></textarea>

                                    <div class="col-lg-3 col-md-4 col-6 ms-auto">
                                        <input type="checkbox" name="publicScope" id="scopeReply" value="public"/> <span style="color:blue;font-weight:bold;" >ë¹„ë°€ëŒ“ê¸€ ğŸ”’</span>
                                        <button type="button" id="replyBtn" class="form-control" >ë“±ë¡</button>
                                    </div>
                                    <input type="hidden" name="groupId" th:value="${blogWrite.writeId}">
                                </form>
                	</div>
            	</div>
            </section>
		</main>
<!----------------------------------- ëŒ“ê¸€ ë -------------------------------->
	</section>
	<!-- Blog Details Section End -->
	
	<!-- Related Blog Section Begin -->
	<section class="related-blog spad">
		<div class="container">
			<div class="row">
				<div class="col-lg-12">
					<div class="section-title related-blog-title">
						<h2>Post You May Like</h2>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-lg-4 col-md-4 col-sm-6">
					<div class="blog__item">
						<div class="blog__item__pic">
							<img th:src="@{/shoptemplate/img/blog/blog-1.jpg}" alt="">
						</div>
						<div class="blog__item__text">
							<ul>
								<li><i class="fa fa-calendar-o"></i> May 4,2019</li>
								<li><i class="fa fa-comment-o"></i> 5</li>
							</ul>
							<h5>
								<a href="#">Cooking tips make cooking simple</a>
							</h5>
							<p>Sed quia non numquam modi tempora indunt ut labore et
								dolore magnam aliquam quaerat</p>
						</div>
					</div>
				</div>
				<div class="col-lg-4 col-md-4 col-sm-6">
					<div class="blog__item">
						<div class="blog__item__pic">
							<img th:src="@{/shoptemplate/img/blog/blog-2.jpg}" alt="">
						</div>
						<div class="blog__item__text">
							<ul>
								<li><i class="fa fa-calendar-o"></i> May 4,2019</li>
								<li><i class="fa fa-comment-o"></i> 5</li>
							</ul>
							<h5>
								<a href="#">6 ways to prepare breakfast for 30</a>
							</h5>
							<p>Sed quia non numquam modi tempora indunt ut labore et
								dolore magnam aliquam quaerat</p>
						</div>
					</div>
				</div>
				<div class="col-lg-4 col-md-4 col-sm-6">
					<div class="blog__item">
						<div class="blog__item__pic">
							<img th:src="@{/shoptemplate/img/blog/blog-3.jpg}" alt="">
						</div>
						<div class="blog__item__text">
							<ul>
								<li><i class="fa fa-calendar-o"></i> May 4,2019</li>
								<li><i class="fa fa-comment-o"></i> 5</li>
							</ul>
							<h5>
								<a href="#">Visit the clean farm in the US</a>
							</h5>
							<p>Sed quia non numquam modi tempora indunt ut labore et
								dolore magnam aliquam quaerat</p>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		
		<!-- ëŒ“ê¸€ì‹ ê³ ëª¨ë‹¬ì°½ -->
	<div class="modal hidden">
		<div class="modal__background"></div>
		<div class="modal__content">
			<h3>ì‹ ê³ í•˜ê¸°</h3>
			<div class="modalText">
				<p>ì‚¬ìœ ì„ íƒ</p>
				<input type="checkbox" name="reason" id="ban1"
					th:onclick="checkOnlyone(this)" value="ìš•ì„¤ ë° ë¹„í•˜ ë°œì–¸">ìš•ì„¤ ë° ë¹„í•˜ ë°œì–¸<span id="1"></span><br> 
				<input type="checkbox" value="ì €ì‘ê¶Œ,ëª…ì˜ˆí›¼ì† ë“± ê¸°íƒ€ ê¶Œë¦¬ ì¹¨í•´" id="ban2" name="reason"
					th:onclick="checkOnlyone(this)">ì €ì‘ê¶Œ,ëª…ì˜ˆí›¼ì† ë“± ê¸°íƒ€ ê¶Œë¦¬ ì¹¨í•´<span id="2"></span><br> 
				<input type="checkbox" value="ë¶ˆê±´ì „í•œ ê¸€ ë“±ë¡" name="reason"
					id="ban3" th:onclick="checkOnlyone(this)"> ë¶ˆê±´ì „í•œ ê¸€ ë“±ë¡ <span id="3"></span><br>
				<input type="checkbox" value="ê´‘ê³ ,í™ë³´ì„± ë‚´ìš©" name="reason"
					id="ban4" th:onclick="checkOnlyone(this)"> ê´‘ê³ ,í™ë³´ì„± ë‚´ìš© <span id="4"></span><br> 
				<input type="checkbox" value="ê¸°íƒ€" name="reason" id="ban5" th:onclick="checkOnlyone(this)"> ê¸°íƒ€ <span id="5"></span><br>

				<button th:onclick="banSubmit()">ì‹ ê³ í•˜ê¸°</button>
				<button class="closeBtn">ë‹«ê¸°</button>
			</div>
		</div>
	</div>
		
	</section>
	<!-- Related Blog Section End -->
	<!-- JS -->
	<th:block layout:fragment="script">
		<script th:src="@{/shoptemplate/js/jquery.nice-select.min.js}"></script>
		<script th:src="@{/shoptemplate/js/jquery-ui.min.js}"></script>
		<script th:src="@{/shoptemplate/js/jquery.slicknav.js}"></script>
		<script th:src="@{/shoptemplate/js/mixitup.min.js}"></script>
		<script th:src="@{/shoptemplate/js/owl.carousel.min.js}"></script>
		<script th:src="@{/shoptemplate/js/main.js}"></script>
		<script src="https://t1.kakaocdn.net/kakao_js_sdk/2.1.0/kakao.min.js"
		  integrity="sha384-dpu02ieKC6NUeKFoGMOKz6102CLEWi9+5RQjWSV0ikYSFFd8M3Wp2reIcquJOemx" crossorigin="anonymous"></script>
		<script>
		  Kakao.init('64b26959c96adc1324d47495b3b8e41a'); // ì‚¬ìš©í•˜ë ¤ëŠ” ì•±ì˜ JavaScript í‚¤ ì…ë ¥
		</script>
	</th:block>
	
	<!-- ì¢‹ì•„ìš”ë²„íŠ¼ / ë””ë¹„ ì €ì¥í•´ì•¼í•¨ -->
	<script type="text/javascript">
	//csrfì„¤ì •
	 var token = $("meta[name='_csrf']").attr("content");
	 var header = $("meta[name='_csrf_header']").attr("content");
	 
	 
	
	
		let likeTF = $('.blogLike').val(); // input hidden valueê°’ìœ¼ë¡œ likeCount(like í…Œì´ë¸”ì— ê°’ì´ ìˆëŠ”ì§€ ì¡°íšŒ)ë¥¼ ì£¼ê³ , ê·¸ valueë¥¼ ê°€ì ¸ì˜´
		let contentId='';
		let writerId='';
		
		var timeline1 = gsap.timeline({ repeatDelay: 0.7, paused: true}); //í•˜íŠ¸ íš¨ê³¼
		timeline1.to(".heartbutton", {duration: 0.7, width: 50, ease: Back.easeIn}) 
	  			 .to(".like", {duration: 0.2, opacity: 0}, "-=0.7")
				 .to(".number", {duration: 0.2,opacity: 0, fontSize: 0}, "-=0.7")
				 .to(".far", {duration: 0.4, display: "none"}, "-=0.5") 
				 .to(".fa", {duration: 0.1, display: "inline-block"},"-=0.1")
				 .to(".heartbutton", {duration: 0.7, width: 170})
				 .to(".like", { opacity: 1},"-=0.5")
				 .to(".d", {duration: 0.3, opacity: 1, translateX: 0},"-=0.2").to(".number", {duration: 0.2, opacity: 1,text: "[[${cntBlogLike.count}]]", fontSize: 25}, "-=0.1");
		
		if(likeTF == 'Y'){ // like í…Œì´ë¸”ì— ê°’ì´ ìˆëŠ”ì§€ í™•ì¸í•˜ê³ , ê°’ì´ ìˆìœ¼ë©´ í•˜íŠ¸ê°€ ëˆŒëŸ¬ì§„ ìƒíƒœë¡œ í‘œì‹œ ë˜ê²Œ.
			timeline("[[${cntBlogLike.count}]]",true);
		}
		
		function timeline(e,tf){
			if(tf){ //ë§Œì•½ trueì´ë©´,
				timeline1.to(".number", {duration: 0.2, opacity: 1,text: e, fontSize: 25}, "-=0.1"); //
				timeline1.play(); // ë²„íŠ¼ ëˆŒë¦¼
			}else{
				timeline1.progress(0).pause(); // ë²„íŠ¼ ì´ˆê¸°í™”
				$('.number').text(e);
			}
		}
		
		$(".heartbutton").click(function(){
			likeTF = $('.wrapper').find('input').val();
			event.stopPropagation();
			// ì¢‹ì•„ìš” ë””ë¹„ ì €ì¥
			let bno = "[[${blogWrite.writeId}]]";
			let id = "[[${#authentication.principal != 'anonymousUser' ? #authentication.principal.memberId:''}]]";
			
			if(id!=""){ // ë¡œê·¸ì¸ ëœ ìƒíƒœì´ë©´
				//console.log($(".blogLike").val());
			  	if(likeTF=='F'){ // í…Œì´ë¸”ì— ì¡°íšŒëœ ê°’ì´ ì—†ìœ¼ë©´ dbì— ì €ì¥
			  			//dbì— ì €ì¥í•˜ëŠ” ë©”ì„œë“œ ì»¨íŠ¸ë¡¤ëŸ¬ì— ì¶”ê°€
			  	
			  			$.ajax({
						      url: '/blog/addBlogLike',
						      method: 'post',
						      contentType: 'application/x-www-form-urlencoded',
						      data: {"groupId": bno}, // ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ë„˜ê²¨ì¤„ ê°’. ì´ í˜ì´ì§€ì˜ ê¸€ ë²ˆí˜¸
						      beforeSend : function(xhr)
				               {   /*ë°ì´í„°ë¥¼ ì „ì†¡í•˜ê¸° ì „ì— í—¤ë”ì— csrfê°’ì„ ì„¤ì •í•œë‹¤*/
				               xhr.setRequestHeader(header, token);
				               },
						      success: function (result) {
						         console.log(result.count);
						         // Yë¥¼ Fë¡œ
						         
						       $('.blogLike').val('Y'); // blogLikeì¸ í´ë˜ìŠ¤ì˜ ê°’ì„ ë¶ˆëŸ¬ì™€ì„œ 'Y'ë¡œ ë°”ê¿”ì¤€ë‹¤
						       timeline(result.count,true);
						      },
						      error: function (error) {
						         console.log(error);
						      }
						   })
			  	
			  	
			  	}else{	// dbì— ì‚­ì œ
			  			//dbì—ì„œ ì‚­ì œ ë˜ëŠ” ìˆ˜ì •í•˜ëŠ” ë©”ì„œë“œ ì»¨íŠ¸ë¡¤ëŸ¬ì— ì¶”ê°€
			  	
			  			$.ajax({
						      url: '/blog/delBlogLike',
						      method: 'post',
						      contentType: 'application/x-www-form-urlencoded',
						      data: {"groupId": bno},
						      beforeSend : function(xhr)
				               {   /*ë°ì´í„°ë¥¼ ì „ì†¡í•˜ê¸° ì „ì— í—¤ë”ì— csrfê°’ì„ ì„¤ì •í•œë‹¤*/
				               xhr.setRequestHeader(header, token);
				               },
						      success: function (result) {
						         console.log(result.count);
						         
						         // Fë¥¼ Yë¡œ
						         $('.blogLike').val('F'); // blogLikeì¸ í´ë˜ìŠ¤ì˜ ê°’ì„ ë¶ˆëŸ¬ì™€ì„œ 'F'ë¡œ ë°”ê¿”ì¤€ë‹¤
						         timeline(result.count,false);
						      },
						      error: function (error) {
						         console.log(error);
						      }
						   })
			  	};
			}else{ // ë¡œê·¸ì¸ í•˜ì§€ ì•Šì€ ìƒíƒœì´ë©´
				alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤');
			}
			});
				// 	ì¢‹ì•„ìš” ë
			
				
				
				// 
				$("input[name='publicScope']").on("click", function(){
					if($(this).is(":checked")){
						$('#scopeReply').val('private');
					}else{
						$('#scopeReply').val('public');
					}
					
				});
				
				
				// ëŒ“ê¸€ ë“±ë¡
			$('#replyBtn').on("click", function(){
				let bno = "[[${blogWrite.writeId}]]";
				let id = "[[${#authentication.principal != 'anonymousUser' ? #authentication.principal.memberId:''}]]";
				if(id!=null){ // ë¡œê·¸ì¸ ëœ ìƒíƒœì´ë©´
					$.ajax({
						url: '/blog/myblog/blogWrite/replyInsert',
						method: 'post',
						beforeSend : function(xhr)
			               {   /*ë°ì´í„°ë¥¼ ì „ì†¡í•˜ê¸° ì „ì— í—¤ë”ì— csrfê°’ì„ ì„¤ì •í•œë‹¤*/
			               xhr.setRequestHeader(header, token);
			               },
						contentType: 'application/x-www-form-urlencoded',
						data: $('form[name="replyFrm"]').serialize(),
						success: function (result) {
					         console.log(result);
					         location.href='/blog/myblog/blogWrite?bno='+bno;	// ì´ê±° ë¹¼ê³  ì–´ë””ì— ë­ ë„£ì–´ë¼~ ì´ëŸ°ì‹ìœ¼ë¡œ
					    	 
						},
					      error: function (error) {
					         console.log(error);
					      }
					});
				}else{
					alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
				}
			});
				
				
			// ëŒ€ëŒ“ê¸€ ë“±ë¡
			$('.rereplyBtn').each(function(){
				$(this).on("click", function(){ // ëŒ“ê¸€ ë‹¬ê¸° ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ëŒ“ê¸€ ì“°ëŠ” ì¹¸ ë³´ì´ê²Œ
					console.log("ëŒ€ëŒ“ê¸€");
					$(this).next().toggle('active'); // ëŒ“ê¸€ ì“°ëŠ” ì¹¸ ì—´ê¸°
					$(this).next().find('.rereplyInsert').on('click', function(e){
						let bno = "[[${blogWrite.writeId}]]";
						let id = "[[${#authentication.principal != 'anonymousUser' ? #authentication.principal.memberId:''}]]";
						
						if(id!=null){ // ë¡œê·¸ì¸ ëœ ìƒíƒœì´ë©´
							$.ajax({
								url: '/blog/myblog/blogWrite/replyInsert',
								method: 'post',
								beforeSend : function(xhr)
					               {   /*ë°ì´í„°ë¥¼ ì „ì†¡í•˜ê¸° ì „ì— í—¤ë”ì— csrfê°’ì„ ì„¤ì •í•œë‹¤*/
					               xhr.setRequestHeader(header, token);
					               },
								contentType: 'application/x-www-form-urlencoded',
								data: $(e.target).closest('form').serialize(),
								success: function (result) {
							         console.log(result);
 							         location.href='/blog/myblog/blogWrite?bno='+bno;	// ì´ê±° ë¹¼ê³  ì–´ë””ì— ë­ ë„£ì–´ë¼~ ì´ëŸ°ì‹ìœ¼ë¡œ
							    	 
								},
							      error: function (error) {
							         console.log(error);
							      }
							});
						}else{
							alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
						}
					})
				})
			})
			
			// ëŒ€ëŒ“ê¸€ ë¦¬ìŠ¤íŠ¸ ìƒì„±
			let listClone = $('.rereTemplate').find('author-comment').first();
			function makeRereList(item){
				let makeClone = $(listClone).clone();
				$(makeClone).find('span').text(item.writerId);
				$(makeClone).find('mb-1').text(item.replyDate);
				$(makeClone).find('p').text(item.content);
			}
			
			
			//ì‹ ê³ ëª¨ë‹¬ì°½ ìƒì„±
			const openButton = document.querySelector(".openBtn");
			const modal = document.querySelector(".modal");
			const closeButton = modal.querySelector(".closeBtn");
			const modalBackground = modal.querySelector(".modal__background");

			function displayModal(){
				console.log("í´ë¦­")
			    modal.classList.toggle("hidden");
			}

			document.querySelectorAll(".openBtn").forEach((openButton) => {
		           console.log(openButton);
		           openButton.addEventListener("click", displayModal);
		         });
			closeButton.addEventListener("click", displayModal)
			modalBackground.addEventListener("click", displayModal);
		
			
			//ì‹ ê³ ì²´í¬ë°•ìŠ¤ì‹œ ìì„¸ë‚´ìš©ì ê¸° ì°½ ìƒì„±
			function checkOnlyone(element){
				const reason=document.getElementsByName("reason");
				reason.forEach((cb) => 
				{cb.checked = false;	
				let span=cb.nextElementSibling;
				span.innerHTML="";	
				})						
				element.checked = true;
				let span=element.nextElementSibling;
				span.innerHTML="<br><textarea name='text' placeholder='ìƒì„¸ì„¤ëª…' id='detailReason'></textarea>";										
			}
			
			//ì‹ ê³ ì œì¶œ
			function banSubmit(){
				let bno = "[[${blogWrite.writeId}]]";
				console.log(contentId,writerId);
				let reasonLength = document.getElementsByName("reason").length;  
   				for (var i=0; i<reasonLength; i++) {
        			if (document.getElementsByName("reason")[i].checked == true) {
            			console.log(document.getElementsByName("reason")[i].value); 
            			var reason=document.getElementsByName("reason")[i].value
        			}
				}
   				
   				
   				console.log(document.getElementById("detailReason").value);
   				let detailReason=document.getElementById("detailReason").value; //ìƒì„¸ ì´ìœ 
   				let fromId="[[${#authentication.principal != 'anonymousUser' ? #authentication.principal.memberId:''}]]"; //ì‹ ê³  í•œ ì‚¬ëŒ
				//console.log(fromId, groupId,toId, reason);
				
					$.ajax({
						url: '/blog/addBan',
						method: 'post',
						contentType: 'application/x-www-form-urlencoded',
						data: {"groupId":contentId,
							   "toId":writerId,
							   "reason":reason,
							   "detailReason":detailReason},
					   beforeSend : function(xhr)
		               {   /*ë°ì´í„°ë¥¼ ì „ì†¡í•˜ê¸° ì „ì— í—¤ë”ì— csrfê°’ì„ ì„¤ì •í•œë‹¤*/
		               xhr.setRequestHeader(header, token);
		               },
						success: function (result) {
					         console.log(result);
					    	 alert("ì‹ ê³  ì™„ë£Œ");
					    	 location.href='/blog/myblog/blogWrite?bno='+bno;
						},
					      error: function (error) {
					         console.log(error);
					      }
					})
					
			}
			
			// ê·¸ë£¹ ì•„ì´ë””ë‘ ì‹ ê³ ë°›ì„ ì‚¬ëŒ ì•„ì´ë”” ë°›ëŠ” í•¨ìˆ˜
				$('.openBtn').on("click",function(){
					contentId = $(this).attr('value1');
					writerId = $(this).attr('value2');
					console.log(contentId);
					console.log(writerId);
					banSubmit(contentId,writerId);
				})
				
			// ê¸€ ì‚­ì œ
				$('#blogDelete').on("click", function(){
					let writeId = $(this).val();
					console.log(writeId);
					alert("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?");
					$.ajax({
						url: '/blog/blogDelete',
						method: 'post',
						contentType: 'application/x-www-form-urlencoded',
	 					data: {"writeId":writeId},
	 					beforeSend : function(xhr)
			               {   /*ë°ì´í„°ë¥¼ ì „ì†¡í•˜ê¸° ì „ì— í—¤ë”ì— csrfê°’ì„ ì„¤ì •í•œë‹¤*/
			               xhr.setRequestHeader(header, token);
			               },
	 					success: function(result){
	 						console.log(result);
	 						alert("ì‚­ì œì™„ë£Œ");
	 						location.href="'/blog/myblog?userId='+'[[${#authentication.principal != 'anonymousUser' ? #authentication.principal.memberId:''}]]'";
	 					},
	 					error: function(error){
	 						console.log(error);
	 					}
					})
				})
				
			// ëŒ“ê¸€, ëŒ€ëŒ“ê¸€ ì‚­ì œ	
			$('.reDelBtn').on("click", function(){
				let replyId = $(this).attr("value");
				console.log(replyId);
				$.ajax({
					url: '/blog/replyDel',
					method: 'post',
					contentType: 'application/x-www-form-urlencoded',
 					data: {"replyId":replyId},
 					beforeSend : function(xhr)
		               {   /*ë°ì´í„°ë¥¼ ì „ì†¡í•˜ê¸° ì „ì— í—¤ë”ì— csrfê°’ì„ ì„¤ì •í•œë‹¤*/
		               xhr.setRequestHeader(header, token);
		               },
 					success: function(result){
 						location.reload();
 					},
 					error: function(error){
 						console.log(error);
 					}
				})
			})
				
			// ì¹´í†¡ê³µìœ 
			Kakao.Share.createCustomButton({
			    container: '#kakaotalk-sharing-btn',
			    templateId: 89222,
			    templateArgs: {
			      title: 'ë¼ì´ì–¸ì´ ì¦ê²¨ë¨¹ë˜ ë°”ë¡œ ê·¸ í‹´ì¼€ì´ìŠ¤ ì¹˜ì¦ˆë³¼',
			      description: 'ë°”ë¼ë§Œ ë´ë„ ì¦ê±°ì›Œì§€ëŠ” íë§ íŒ¨í‚¤ì§€ì—ëŠ” ì‹œí¬ë¦¿ ìŠ¤í† ë¦¬ê°€ ìˆ¨ì–´ìˆì–´ìš”.',
			      url: 'blog/myblog/blogWrite?bno=[[${blogWrite.writeId}]]'
			    },
			  });	
			
	</script>
	
</div>

</html>