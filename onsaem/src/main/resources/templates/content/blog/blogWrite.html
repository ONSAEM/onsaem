<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout}">
<head>
<meta charset="UTF-8">
<meta name="description" content="Ogani Template">
<meta name="keywords" content="Ogani, unica, creative, html">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

<!-- Css  -->
<th:block layout:fragment="css">
	<link rel="stylesheet" th:href="@{/shoptemplate/css/bootstrap.min.css}"
		type="text/css">
	<link rel="stylesheet"
		th:href="@{/shoptemplate/css/font-awesome.min.css}" type="text/css">
	<link rel="stylesheet" th:href="@{/shoptemplate/css/elegant-icons.css}"
		type="text/css">
	<link rel="stylesheet" th:href="@{/shoptemplate/css/nice-select.css}"
		type="text/css">
	<link rel="stylesheet"
		th:href="@{/shoptemplate/css/jquery-ui.min.css}"
		type="text/css">
	<link rel="stylesheet"
		th:href="@{/shoptemplate/css/owl.carousel.min.css}" type="text/css">
	<link rel="stylesheet" th:href="@{/shoptemplate/css/slicknav.min.css}"
		type="text/css">
	<link rel="stylesheet" th:href="@{/shoptemplate/css/style.css}"
		type="text/css">
</th:block>

<style>
 /* VARIABLES -  START */
/* COLORS  */
/* DIMENSIONS */
/* FONTS */
@import url("https://fonts.googleapis.com/css2?family=Lato:wght@300&display=swap");
/* VARIABLES - END */
/* COMMONS - START */
.flex-center, .wrapper .button-container, .wrapper {
  justiy-content: center;
  align-items: center;
}

* {
  box-sizing: border-box;
  margin: 0;
}

/* COMMONS - END */
/* STYLES -  START */
.wrapper {
  font-family: "Lato", sans-serif;
  font-weight: 400;
}
.heartbutton {
  height: 50px;
  width: 170px;
  background-color: #fefefe;
  border-radius: 5px;
  padding: 12.5px;
  cursor: pointer;
}

.content .icon {
  font-size: 25px;
  color: #ea4a87;
}
.content .icon.fa {
  display: none;
}
.content .text {
  font-size: 25px;
  color: #2f3537;
}
.content .text.like {
  margin-left: 10px;
}
.content .text.d {
  opacity: 0;
  display: inline-block;
  transform: translateX(12px);
}
.content .text.number {
  margin-left: 10px;
  color: #7a7c81;
}

/* STYLES - END */

/* Ïã†Í≥†Î™®Îã¨ */
.modal {
	display: flex;
	justify-content: center;
	align-items: center;
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
}

.modal__background {
	background-color: rgba(0, 0, 0, 0.6);
	width: 100%;
	height: 100%;
	position: absolute;
}

.modal__content {
	text-align: center;
	position: relative;
	background-color: white;
	border-radius: 10px;
	top: 0;
	padding: 10px 25px;
	width: 20%;
}
.hidden {
	display: none;
} 
</style>

</head>

<!-- Content -->

<div layout:fragment="content">
	
	<!-- Blog Details Hero Begin -->
	<section class="blog-details-hero set-bg"
		th:data-setbg="@{/shoptemplate/img/blog/details/details-hero.jpg}">
		<div class="container">
			<div class="row">
				<div class="col-lg-12">
					<div class="blog__details__hero__text">
						<h2>[[${blogWrite.writeTitle}]]</h2>
						<ul>
							<li>By [[${blogWrite.nickname}]]</li>
							<li>[[${#dates.format(blogWrite.writeDate, 'YYYY-MM-DD')}]]</li>
							<li>[[${replyCnt.replyCnt}]] Comments</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- Blog Details Hero End -->

	<!-- Blog Details Section Begin -->
	<section class="blog-details spad">
		<div class="container">
			<div class="row">
				<div class="col-lg-4 col-md-5 order-md-1 order-2">
					<div class="blog__sidebar">
						<!--                     	<button th:onclick="|location.href='@{/blog/myblog/blogWrite/blogUpdate/test01/BW001}'|">ÏàòÏ†ï</button> -->
						<!--                     	<button th:onclick="|location.href='@{/blog/myblog/blogWrite/blogDelete/test01/BW001}'|">ÏÇ≠Ï†ú</button> -->
						<div class="blog__sidebar__search">
							<form action="#">
								<input type="text" placeholder="Search...">
								<button type="submit">
									<span class="icon_search"></span>
								</button>
							</form>
						</div>
						<div class="blog__sidebar__item">
							<h4>Categories</h4>
							<ul th:each="cate:${category}">
                                <li><a href="#">[[${cate.categoryName}]]</a></li>
                            </ul>
						</div>
						<div class="blog__sidebar__item">
							<h4>Recent News</h4>
							<div class="blog__sidebar__recent">
								<a href="#" class="blog__sidebar__recent__item">
									<div class="blog__sidebar__recent__item__pic">
										<img th:src="@{/shoptemplate/img/blog/sidebar/sr-1.jpg}"
											alt="">
									</div>
									<div class="blog__sidebar__recent__item__text">
										<h6>
											09 Kinds Of Vegetables<br /> Protect The Liver
										</h6>
										<span>MAR 05, 2019</span>
									</div>
								</a> <a href="#" class="blog__sidebar__recent__item">
									<div class="blog__sidebar__recent__item__pic">
										<img th:src="@{/shoptemplate/img/blog/sidebar/sr-2.jpg}"
											alt="">
									</div>
									<div class="blog__sidebar__recent__item__text">
										<h6>
											Tips You To Balance<br /> Nutrition Meal Day
										</h6>
										<span>MAR 05, 2019</span>
									</div>
								</a> <a href="#" class="blog__sidebar__recent__item">
									<div class="blog__sidebar__recent__item__pic">
										<img th:src="@{/shoptemplate/img/blog/sidebar/sr-3.jpg}"
											alt="">
									</div>
									<div class="blog__sidebar__recent__item__text">
										<h6>
											4 Principles Help You Lose <br />Weight With Vegetables
										</h6>
										<span>MAR 05, 2019</span>
									</div>
								</a>
							</div>
						</div>
					</div>
				</div>
				<div class="col-lg-8 col-md-7 order-md-1 order-1"> <!--------------------------Ïã†Í≥†!!!!! -->
					<i type="button" class="fa-solid fa-triangle-exclamation openBtn" style="float:right;"
					th:value1="${blogWrite.writeId}" th:value2="${blogWrite.blogId}">Ïã†Í≥†ÌïòÍ∏∞</i>
					<button style="float:right;" id="blogUpdate">ÏàòÏ†ï</button>
					<button style="float:right;" id="blogDelete" th:value="${blogWrite.writeId}">ÏÇ≠Ï†ú</button>
					<div class="blog__details__text">
						 [(${blogWrite.blogWrite})]
					</div>
					<div class="blog__details__content">
						<div class="row">
							<div class="col-lg-6">
								<div class="blog__details__author">
									<div class="blog__details__author__pic">
										<img
											th:src="@{/shoptemplate/img/blog/details/details-author.jpg}"
											alt="">
									</div>
									<div class="blog__details__author__text">
										<h6>[[${blogWrite.nickname}]]</h6>
										<span>[[${blogWrite.blogId}]]</span>
									</div>
								</div>
							</div>
							<div class="col-lg-6">
								<div class="blog__details__widget">
									<ul>
					<!-------------------- ÌïòÌä∏ ------------------------->
										<li><div class="wrapper" >
												<div class="button-container">
													<div class="heartbutton">
														<span class="content"> <i class="icon fa fa-heart"
															aria-hidden="true"></i> <i class="icon far fa-heart"
															aria-hidden="true"></i> <span class="text like">Like<span
																class="text d">d</span></span> <span class="text number" th:text="${cntBlogLike.count}"></span>
														</span>
														<input type="hidden" class="blogLike" th:value=${likeCount}> <!-- Ï¥àÍ∏∞Í∞íÏùÑ FÎ°ú ÎëêÍ∏∞ -->
													</div>
												</div>
											</div></li>
					<!-------------------- ÌïòÌä∏ ÎÅù ------------------------->	
<!-- 										<li><span>Categories:</span>[[${blogWrite.categoryName}]]</li> -->
									</ul>
								</div>
								<!-- Ïπ¥ÌÜ° -->
								<a id="kakaotalk-sharing-btn" href="javascript:;">
								  <img src="https://developers.kakao.com/assets/img/about/logos/kakaotalksharing/kakaotalk_sharing_btn_medium.png"
								    alt="Ïπ¥Ïπ¥Ïò§ÌÜ° Í≥µÏú† Î≥¥ÎÇ¥Í∏∞ Î≤ÑÌäº" />
								</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		
<!-------------ÎåìÍ∏Ä--------------------------------------------------->
		<main>
			<section class="news-section section-padding">
            <div class="container">
                <div class="row">
                	<div class="rere">
                	<div th:each=" reply : ${replyList}">
                		<div th:if="${reply.level} == 1">
		                	<div class="author-comment d-flex mt-3 mb-4">
                                 <img th:src="@{/images/avatar/studio-portrait-emotional-happy-funny.jpg}"
                                     class="img-fluid avatar-image" alt="">

                                 <div class="author-comment-info ms-3">
                                     <h6 class="mb-1"><span style="font-weight:bold" id="writerIdText">[[${reply.writerId}]]</span> <a th:if="${blogWrite.blogId} == ${reply.writerId}" style="color:#5bc1ac;font-weight:bold;">[ÏûëÏÑ±ÏûêüçÄ]</a> ([[${#dates.format(reply.replyDate, 'YY.MM.DD HH:mm')}]])</h6>

                                     <p class="mb-0">[[${reply.content}]]</p>

                                     <div class="d-flex mt-2">
                                         <a type="button" class="author-comment-link rereplyBtn">ÎåìÍ∏ÄÎã¨Í∏∞</a>
                                          <!-- ÎåÄÎåìÍ∏Ä -->
                                          <form class="custom-form comment-form mt-4 rereplyFrm" role="form" name="rereplyFrm" style="display:none;">
	                                	<input type="hidden" id="token" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/> 
	                                    <textarea name="content" rows="4" class="form-control rereplyBox" id="comment-message"
	                                        placeholder="Ïò®ÏÉòÏùÄ Ïã†Í≥† Í¥ÄÎ¶¨Î•º Ï≤†Ï†ÄÌïòÍ≤å Ìï©ÎãàÎã§. ÎåìÍ∏Ä ÏûëÏÑ± Ïãú, ÌïúÎ≤à Îçî ÏÉùÍ∞ÅÌï¥Ï£ºÏÑ∏Ïöî"></textarea>
	
	                                    	<div class="col-lg-3 col-md-4 col-6 ms-auto">
<!-- 			                                        <button type="button" id="replyBtn" class="form-control" sec:authorize="isAnonymous()" disabled>Î°úÍ∑∏Ïù∏Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§ <a th:href="@{/loginPage}">login</a></button> -->
	                                        	<button type="button" class="form-control rereplyInsert" th:if="${#authentication.principal != 'anonymousUser' ? #authentication.principal.memberId:''}">Îì±Î°ù</button>
	                                    	</div>
	                                    <input type="hidden" name="groupId" th:value="${reply.replyId}">
	                                </form>
                                          <!-- ÎåÄÎåìÍ∏Ä ÎÅù -->
								<a type="button" class="author-comment-link me-3"><span style="color:red;">ÏÇ≠Ï†ú</span></a>
                                         <a type="button" class="author-comment-link me-3 openBtn" id="replyIdVal" th:value1="${reply.replyId}" th:value2="${reply.writerId}"><span style="color:red;">Ïã†Í≥†</span></a>
                                     </div>
                                 </div>
	                     </div>
                     </div>
                     <!-- ÎåÄÎåìÍ∏Ä Î¶¨Ïä§Ìä∏ -->
                     <div th:unless="${reply.level} == 1">
                     		<div class="rereTemplate">	
                                <div class="author-comment d-flex ms-5 ps-3">
                                    <img th:src="@{/images/avatar/pretty-blonde-woman-wearing-white-t-shirt.jpg}"
                                        class="img-fluid avatar-image" alt="">

                                    <div class="author-comment-info ms-3">
                                        <h6 class="mb-1">
                                        <span style="font-weight:bold" id="writerIdText">[[${reply.writerId}]]</span> 
                                        <a th:if="${blogWrite.blogId} == ${reply.writerId}" style="color:#5bc1ac;font-weight:bold;">[ÏûëÏÑ±ÏûêüçÄ]</a> 
                                        ([[${#dates.format(reply.replyDate, 'YY.MM.DD HH:mm')}]])</h6>

                                        <p class="mb-0">[[${reply.content}]]</p>

                                        <div class="d-flex mt-2">
                                            <a href="#" class="author-comment-link me-3">Ïã†Í≥†</a>
                                            <a type="button" class="author-comment-link me-3"><span style="color:red;">ÏÇ≠Ï†ú</span></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                    </div>      
					<!--  ÎåÄÎåìÍ∏Ä ÎÅù -->
					
					</div>
				</div>
                                <form class="custom-form comment-form mt-4" role="form" name="replyFrm">
                                	<input type="hidden" id="token" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/> 
                                    <h6 class="mb-3">ÎåìÍ∏Ä</h6>

                                    <textarea name="content" rows="4" class="form-control" id="comment-message"
                                        placeholder="Ïò®ÏÉòÏùÄ Ïã†Í≥† Í¥ÄÎ¶¨Î•º Ï≤†Ï†ÄÌïòÍ≤å Ìï©ÎãàÎã§. ÎåìÍ∏Ä ÏûëÏÑ± Ïãú, ÌïúÎ≤à Îçî ÏÉùÍ∞ÅÌï¥Ï£ºÏÑ∏Ïöî"></textarea>

                                    <div class="col-lg-3 col-md-4 col-6 ms-auto">
<!--                                         <button type="button" id="replyBtn" class="form-control" th:unless="${#authentication.principal != 'anonymousUser' ? #authentication.principal.memberId:''}" disabled>Î°úÍ∑∏Ïù∏Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§ <a th:href="@{/loginPage}">login</a></button> -->
                                        <button type="button" id="replyBtn" class="form-control" th:if="${#authentication.principal != 'anonymousUser' ? #authentication.principal.memberId:''}">Îì±Î°ù</button>
                                    </div>
                                    <input type="hidden" name="groupId" th:value="${blogWrite.writeId}">
                                </form>
                	</div>
            	</div>
            </section>
		</main>
<!----------------------------------- ÎåìÍ∏Ä ÎÅù -------------------------------->
	</section>
	<!-- Blog Details Section End -->
	
	<!-- Related Blog Section Begin -->
	<section class="related-blog spad">
		<div class="container">
			<div class="row">
				<div class="col-lg-12">
					<div class="section-title related-blog-title">
						<h2>Post You May Like</h2>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-lg-4 col-md-4 col-sm-6">
					<div class="blog__item">
						<div class="blog__item__pic">
							<img th:src="@{/shoptemplate/img/blog/blog-1.jpg}" alt="">
						</div>
						<div class="blog__item__text">
							<ul>
								<li><i class="fa fa-calendar-o"></i> May 4,2019</li>
								<li><i class="fa fa-comment-o"></i> 5</li>
							</ul>
							<h5>
								<a href="#">Cooking tips make cooking simple</a>
							</h5>
							<p>Sed quia non numquam modi tempora indunt ut labore et
								dolore magnam aliquam quaerat</p>
						</div>
					</div>
				</div>
				<div class="col-lg-4 col-md-4 col-sm-6">
					<div class="blog__item">
						<div class="blog__item__pic">
							<img th:src="@{/shoptemplate/img/blog/blog-2.jpg}" alt="">
						</div>
						<div class="blog__item__text">
							<ul>
								<li><i class="fa fa-calendar-o"></i> May 4,2019</li>
								<li><i class="fa fa-comment-o"></i> 5</li>
							</ul>
							<h5>
								<a href="#">6 ways to prepare breakfast for 30</a>
							</h5>
							<p>Sed quia non numquam modi tempora indunt ut labore et
								dolore magnam aliquam quaerat</p>
						</div>
					</div>
				</div>
				<div class="col-lg-4 col-md-4 col-sm-6">
					<div class="blog__item">
						<div class="blog__item__pic">
							<img th:src="@{/shoptemplate/img/blog/blog-3.jpg}" alt="">
						</div>
						<div class="blog__item__text">
							<ul>
								<li><i class="fa fa-calendar-o"></i> May 4,2019</li>
								<li><i class="fa fa-comment-o"></i> 5</li>
							</ul>
							<h5>
								<a href="#">Visit the clean farm in the US</a>
							</h5>
							<p>Sed quia non numquam modi tempora indunt ut labore et
								dolore magnam aliquam quaerat</p>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		
		<!-- ÎåìÍ∏ÄÏã†Í≥†Î™®Îã¨Ï∞Ω -->
	<div class="modal hidden">
		<div class="modal__background"></div>
		<div class="modal__content">
			<h3>Ïã†Í≥†ÌïòÍ∏∞</h3>
			<div class="modalText">
				<p>ÏÇ¨Ïú†ÏÑ†ÌÉù</p>
				<input type="checkbox" name="reason" id="ban1"
					th:onclick="checkOnlyone(this)" value="ÏöïÏÑ§ Î∞è ÎπÑÌïò Î∞úÏñ∏">ÏöïÏÑ§ Î∞è ÎπÑÌïò Î∞úÏñ∏<span id="1"></span><br> 
				<input type="checkbox" value="Ï†ÄÏûëÍ∂å,Î™ÖÏòàÌõºÏÜê Îì± Í∏∞ÌÉÄ Í∂åÎ¶¨ Ïπ®Ìï¥" id="ban2" name="reason"
					th:onclick="checkOnlyone(this)">Ï†ÄÏûëÍ∂å,Î™ÖÏòàÌõºÏÜê Îì± Í∏∞ÌÉÄ Í∂åÎ¶¨ Ïπ®Ìï¥<span id="2"></span><br> 
				<input type="checkbox" value="Î∂àÍ±¥Ï†ÑÌïú Í∏Ä Îì±Î°ù" name="reason"
					id="ban3" th:onclick="checkOnlyone(this)"> Î∂àÍ±¥Ï†ÑÌïú Í∏Ä Îì±Î°ù <span id="3"></span><br>
				<input type="checkbox" value="Í¥ëÍ≥†,ÌôçÎ≥¥ÏÑ± ÎÇ¥Ïö©" name="reason"
					id="ban4" th:onclick="checkOnlyone(this)"> Í¥ëÍ≥†,ÌôçÎ≥¥ÏÑ± ÎÇ¥Ïö© <span id="4"></span><br> 
				<input type="checkbox" value="Í∏∞ÌÉÄ" name="reason" id="ban5" th:onclick="checkOnlyone(this)"> Í∏∞ÌÉÄ <span id="5"></span><br>

				<button th:onclick="banSubmit()">Ïã†Í≥†ÌïòÍ∏∞</button>
				<button class="closeBtn">Îã´Í∏∞</button>
			</div>
		</div>
	</div>
		
	</section>
	<!-- Related Blog Section End -->
	<!-- JS -->
	<th:block layout:fragment="script">
		<script th:src="@{/shoptemplate/js/jquery.nice-select.min.js}"></script>
		<script th:src="@{/shoptemplate/js/jquery-ui.min.js}"></script>
		<script th:src="@{/shoptemplate/js/jquery.slicknav.js}"></script>
		<script th:src="@{/shoptemplate/js/mixitup.min.js}"></script>
		<script th:src="@{/shoptemplate/js/owl.carousel.min.js}"></script>
		<script th:src="@{/shoptemplate/js/main.js}"></script>
		<script src="https://t1.kakaocdn.net/kakao_js_sdk/2.1.0/kakao.min.js"
		  integrity="sha384-dpu02ieKC6NUeKFoGMOKz6102CLEWi9+5RQjWSV0ikYSFFd8M3Wp2reIcquJOemx" crossorigin="anonymous"></script>
		<script>
		  Kakao.init('64b26959c96adc1324d47495b3b8e41a'); // ÏÇ¨Ïö©ÌïòÎ†§Îäî Ïï±Ïùò JavaScript ÌÇ§ ÏûÖÎ†•
		</script>
	</th:block>
	
	<!-- Ï¢ãÏïÑÏöîÎ≤ÑÌäº / ÎîîÎπÑ Ï†ÄÏû•Ìï¥ÏïºÌï® -->
	<script type="text/javascript">
	//csrfÏÑ§Ï†ï
	 var token = $("meta[name='_csrf']").attr("content");
	 var header = $("meta[name='_csrf_header']").attr("content");	
	
	
		let likeTF = $('.blogLike').val(); // input hidden valueÍ∞íÏúºÎ°ú likeCount(like ÌÖåÏù¥Î∏îÏóê Í∞íÏù¥ ÏûàÎäîÏßÄ Ï°∞Ìöå)Î•º Ï£ºÍ≥†, Í∑∏ valueÎ•º Í∞ÄÏ†∏Ïò¥
		let contentId='';
		let writerId='';
		
		var timeline1 = gsap.timeline({ repeatDelay: 0.7, paused: true}); //ÌïòÌä∏ Ìö®Í≥º
		timeline1.to(".heartbutton", {duration: 0.7, width: 50, ease: Back.easeIn}) 
	  			 .to(".like", {duration: 0.2, opacity: 0}, "-=0.7")
				 .to(".number", {duration: 0.2,opacity: 0, fontSize: 0}, "-=0.7")
				 .to(".far", {duration: 0.4, display: "none"}, "-=0.5") 
				 .to(".fa", {duration: 0.1, display: "inline-block"},"-=0.1")
				 .to(".heartbutton", {duration: 0.7, width: 170})
				 .to(".like", { opacity: 1},"-=0.5")
				 .to(".d", {duration: 0.3, opacity: 1, translateX: 0},"-=0.2").to(".number", {duration: 0.2, opacity: 1,text: "[[${cntBlogLike.count}]]", fontSize: 25}, "-=0.1");
		
		if(likeTF == 'Y'){ // like ÌÖåÏù¥Î∏îÏóê Í∞íÏù¥ ÏûàÎäîÏßÄ ÌôïÏù∏ÌïòÍ≥†, Í∞íÏù¥ ÏûàÏúºÎ©¥ ÌïòÌä∏Í∞Ä ÎàåÎü¨ÏßÑ ÏÉÅÌÉúÎ°ú ÌëúÏãú ÎêòÍ≤å.
			timeline("[[${cntBlogLike.count}]]",true);
		}
		
		function timeline(e,tf){
			if(tf){ //ÎßåÏïΩ trueÏù¥Î©¥,
				timeline1.to(".number", {duration: 0.2, opacity: 1,text: e, fontSize: 25}, "-=0.1"); //
				timeline1.play(); // Î≤ÑÌäº ÎàåÎ¶º
			}else{
				timeline1.progress(0).pause(); // Î≤ÑÌäº Ï¥àÍ∏∞Ìôî
				$('.number').text(e);
			}
		}
		
		$(".heartbutton").click(function(){
			likeTF = $('.wrapper').find('input').val();
			event.stopPropagation();
			// Ï¢ãÏïÑÏöî ÎîîÎπÑ Ï†ÄÏû•
			let bno = "[[${blogWrite.writeId}]]";
			let id = "[[${#authentication.principal != 'anonymousUser' ? #authentication.principal.memberId:''}]]";
			
			if(id!=""){ // Î°úÍ∑∏Ïù∏ Îêú ÏÉÅÌÉúÏù¥Î©¥
				//console.log($(".blogLike").val());
			  	if(likeTF=='F'){ // ÌÖåÏù¥Î∏îÏóê Ï°∞ÌöåÎêú Í∞íÏù¥ ÏóÜÏúºÎ©¥ dbÏóê Ï†ÄÏû•
			  			//dbÏóê Ï†ÄÏû•ÌïòÎäî Î©îÏÑúÎìú Ïª®Ìä∏Î°§Îü¨Ïóê Ï∂îÍ∞Ä
			  	
			  			$.ajax({
						      url: '/blog/addBlogLike',
						      method: 'post',
						      contentType: 'application/x-www-form-urlencoded',
						      data: {"groupId": bno}, // Ïª®Ìä∏Î°§Îü¨Î°ú ÎÑòÍ≤®Ï§Ñ Í∞í. Ïù¥ ÌéòÏù¥ÏßÄÏùò Í∏Ä Î≤àÌò∏
						      beforeSend : function(xhr)
				               {   /*Îç∞Ïù¥ÌÑ∞Î•º Ï†ÑÏÜ°ÌïòÍ∏∞ Ï†ÑÏóê Ìó§ÎçîÏóê csrfÍ∞íÏùÑ ÏÑ§Ï†ïÌïúÎã§*/
				               xhr.setRequestHeader(header, token);
				               },
						      success: function (result) {
						         console.log(result.count);
						         // YÎ•º FÎ°ú
						         
						       $('.blogLike').val('Y'); // blogLikeÏù∏ ÌÅ¥ÎûòÏä§Ïùò Í∞íÏùÑ Î∂àÎü¨ÏôÄÏÑú 'Y'Î°ú Î∞îÍøîÏ§ÄÎã§
						       timeline(result.count,true);
						      },
						      error: function (error) {
						         console.log(error);
						      }
						   })
			  	
			  	
			  	}else{	// dbÏóê ÏÇ≠Ï†ú
			  			//dbÏóêÏÑú ÏÇ≠Ï†ú ÎòêÎäî ÏàòÏ†ïÌïòÎäî Î©îÏÑúÎìú Ïª®Ìä∏Î°§Îü¨Ïóê Ï∂îÍ∞Ä
			  	
			  			$.ajax({
						      url: '/blog/delBlogLike',
						      method: 'post',
						      contentType: 'application/x-www-form-urlencoded',
						      data: {"groupId": bno},
						      beforeSend : function(xhr)
				               {   /*Îç∞Ïù¥ÌÑ∞Î•º Ï†ÑÏÜ°ÌïòÍ∏∞ Ï†ÑÏóê Ìó§ÎçîÏóê csrfÍ∞íÏùÑ ÏÑ§Ï†ïÌïúÎã§*/
				               xhr.setRequestHeader(header, token);
				               },
						      success: function (result) {
						         console.log(result.count);
						         
						         // FÎ•º YÎ°ú
						         $('.blogLike').val('F'); // blogLikeÏù∏ ÌÅ¥ÎûòÏä§Ïùò Í∞íÏùÑ Î∂àÎü¨ÏôÄÏÑú 'F'Î°ú Î∞îÍøîÏ§ÄÎã§
						         timeline(result.count,false);
						      },
						      error: function (error) {
						         console.log(error);
						      }
						   })
			  	};
			}else{ // Î°úÍ∑∏Ïù∏ ÌïòÏßÄ ÏïäÏùÄ ÏÉÅÌÉúÏù¥Î©¥
				alert('Î°úÍ∑∏Ïù∏Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§');
			}
			});
				// 	Ï¢ãÏïÑÏöî ÎÅù
			
				
				
				
				
				// ÎåìÍ∏Ä Îì±Î°ù
			$('#replyBtn').on("click", function(){
				let bno = "[[${blogWrite.writeId}]]";
				let id = "[[${#authentication.principal != 'anonymousUser' ? #authentication.principal.memberId:''}]]";
				if(id!=null){ // Î°úÍ∑∏Ïù∏ Îêú ÏÉÅÌÉúÏù¥Î©¥
					$.ajax({
						url: '/blog/myblog/blogWrite/replyInsert',
						method: 'post',
						beforeSend : function(xhr)
			               {   /*Îç∞Ïù¥ÌÑ∞Î•º Ï†ÑÏÜ°ÌïòÍ∏∞ Ï†ÑÏóê Ìó§ÎçîÏóê csrfÍ∞íÏùÑ ÏÑ§Ï†ïÌïúÎã§*/
			               xhr.setRequestHeader(header, token);
			               },
						contentType: 'application/x-www-form-urlencoded',
						data: $('form[name="replyFrm"]').serialize(),
						success: function (result) {
					         console.log(result);
					         location.href='/blog/myblog/blogWrite?bno='+bno;	// Ïù¥Í±∞ ÎπºÍ≥† Ïñ¥ÎîîÏóê Î≠ê ÎÑ£Ïñ¥Îùº~ Ïù¥Îü∞ÏãùÏúºÎ°ú
					    	 
						},
					      error: function (error) {
					         console.log(error);
					      }
					});
				}else{
					alert('Î°úÍ∑∏Ïù∏Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§.');
				}
			});
				
				
			// ÎåÄÎåìÍ∏Ä Îì±Î°ù
			$('.rereplyBtn').each(function(){
				$(this).on("click", function(){ // ÎåìÍ∏Ä Îã¨Í∏∞ Î≤ÑÌäºÏùÑ ÎàÑÎ•¥Î©¥ ÎåìÍ∏Ä Ïì∞Îäî Ïπ∏ Î≥¥Ïù¥Í≤å
					console.log("ÎåÄÎåìÍ∏Ä");
					$(this).next().toggle('active'); // ÎåìÍ∏Ä Ïì∞Îäî Ïπ∏ Ïó¥Í∏∞
					$(this).next().find('.rereplyInsert').on('click', function(e){
						let bno = "[[${blogWrite.writeId}]]";
						let id = "[[${#authentication.principal != 'anonymousUser' ? #authentication.principal.memberId:''}]]";
						
						if(id!=null){ // Î°úÍ∑∏Ïù∏ Îêú ÏÉÅÌÉúÏù¥Î©¥
							$.ajax({
								url: '/blog/myblog/blogWrite/replyInsert',
								method: 'post',
								beforeSend : function(xhr)
					               {   /*Îç∞Ïù¥ÌÑ∞Î•º Ï†ÑÏÜ°ÌïòÍ∏∞ Ï†ÑÏóê Ìó§ÎçîÏóê csrfÍ∞íÏùÑ ÏÑ§Ï†ïÌïúÎã§*/
					               xhr.setRequestHeader(header, token);
					               },
								contentType: 'application/x-www-form-urlencoded',
								data: $(e.target).closest('form').serialize(),
								success: function (result) {
							         console.log(result);
 							         location.href='/blog/myblog/blogWrite?bno='+bno;	// Ïù¥Í±∞ ÎπºÍ≥† Ïñ¥ÎîîÏóê Î≠ê ÎÑ£Ïñ¥Îùº~ Ïù¥Îü∞ÏãùÏúºÎ°ú
							    	 
								},
							      error: function (error) {
							         console.log(error);
							      }
							});
						}else{
							alert('Î°úÍ∑∏Ïù∏Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§.');
						}
					})
				})
			})
			
			// ÎåÄÎåìÍ∏Ä Î¶¨Ïä§Ìä∏ ÏÉùÏÑ±
			let listClone = $('.rereTemplate').find('author-comment').first();
			function makeRereList(item){
				let makeClone = $(listClone).clone();
				$(makeClone).find('span').text(item.writerId);
				$(makeClone).find('mb-1').text(item.replyDate);
				$(makeClone).find('p').text(item.content);
			}
			
			
			//Ïã†Í≥†Î™®Îã¨Ï∞Ω ÏÉùÏÑ±
			const openButton = document.querySelector(".openBtn");
			const modal = document.querySelector(".modal");
			const closeButton = modal.querySelector(".closeBtn");
			const modalBackground = modal.querySelector(".modal__background");

			function displayModal(){
				console.log("ÌÅ¥Î¶≠")
			    modal.classList.toggle("hidden");
			}

			document.querySelectorAll(".openBtn").forEach((openButton) => {
		           console.log(openButton);
		           openButton.addEventListener("click", displayModal);
		         });
			closeButton.addEventListener("click", displayModal)
			modalBackground.addEventListener("click", displayModal);
		
			
			//Ïã†Í≥†Ï≤¥ÌÅ¨Î∞ïÏä§Ïãú ÏûêÏÑ∏ÎÇ¥Ïö©Ï†ÅÍ∏∞ Ï∞Ω ÏÉùÏÑ±
			function checkOnlyone(element){
				const reason=document.getElementsByName("reason");
				reason.forEach((cb) => 
				{cb.checked = false;	
				let span=cb.nextElementSibling;
				span.innerHTML="";	
				})						
				element.checked = true;
				let span=element.nextElementSibling;
				span.innerHTML="<br><textarea name='text' placeholder='ÏÉÅÏÑ∏ÏÑ§Î™Ö' id='detailReason'></textarea>";										
			}
			
			//Ïã†Í≥†Ï†úÏ∂ú
			function banSubmit(){
				let bno = "[[${blogWrite.writeId}]]";
				console.log(contentId,writerId);
				let reasonLength = document.getElementsByName("reason").length;  
   				for (var i=0; i<reasonLength; i++) {
        			if (document.getElementsByName("reason")[i].checked == true) {
            			console.log(document.getElementsByName("reason")[i].value); 
            			var reason=document.getElementsByName("reason")[i].value
        			}
				}
   				
   				
   				console.log(document.getElementById("detailReason").value);
   				let detailReason=document.getElementById("detailReason").value; //ÏÉÅÏÑ∏ Ïù¥Ïú†
   				let fromId="[[${#authentication.principal != 'anonymousUser' ? #authentication.principal.memberId:''}]]"; //Ïã†Í≥† Ìïú ÏÇ¨Îûå
				//console.log(fromId, groupId,toId, reason);
				
					$.ajax({
						url: '/blog/addBan',
						method: 'post',
						contentType: 'application/x-www-form-urlencoded',
						data: {"groupId":contentId,
							   "toId":writerId,
							   "reason":reason,
							   "detailReason":detailReason},
					   beforeSend : function(xhr)
		               {   /*Îç∞Ïù¥ÌÑ∞Î•º Ï†ÑÏÜ°ÌïòÍ∏∞ Ï†ÑÏóê Ìó§ÎçîÏóê csrfÍ∞íÏùÑ ÏÑ§Ï†ïÌïúÎã§*/
		               xhr.setRequestHeader(header, token);
		               },
						success: function (result) {
					         console.log(result);
					    	 alert("Ïã†Í≥† ÏôÑÎ£å");
					    	 location.href='/blog/myblog/blogWrite?bno='+bno;
						},
					      error: function (error) {
					         console.log(error);
					      }
					})
					
			}
			
			// Í∑∏Î£π ÏïÑÏù¥ÎîîÎûë Ïã†Í≥†Î∞õÏùÑ ÏÇ¨Îûå ÏïÑÏù¥Îîî Î∞õÎäî Ìï®Ïàò
				$('.openBtn').on("click",function(){
					contentId = $(this).attr('value1');
					writerId = $(this).attr('value2');
					console.log(contentId);
					console.log(writerId);
					banSubmit(contentId,writerId);
				})
				
			// Í∏Ä ÏÇ≠Ï†ú
				$('#blogDelete').on("click", function(){
					let writeId = $(this).val();
					console.log(writeId);
					alert("Ï†ïÎßê ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?");
					$.ajax({
						url: '/blog/blogDelete',
						method: 'post',
						contentType: 'application/x-www-form-urlencoded',
	 					data: {"writeId":writeId},
	 					beforeSend : function(xhr)
			               {   /*Îç∞Ïù¥ÌÑ∞Î•º Ï†ÑÏÜ°ÌïòÍ∏∞ Ï†ÑÏóê Ìó§ÎçîÏóê csrfÍ∞íÏùÑ ÏÑ§Ï†ïÌïúÎã§*/
			               xhr.setRequestHeader(header, token);
			               },
	 					success: function(result){
	 						console.log(result);
	 						alert("ÏÇ≠Ï†úÏôÑÎ£å");
	 						location.href="'/blog/myblog?userId='+'[[${#authentication.principal != 'anonymousUser' ? #authentication.principal.memberId:''}]]'";
	 					},
	 					error: function(error){
	 						console.log(error);
	 					}
					})
				})
			
				
			// Ïπ¥ÌÜ°Í≥µÏú†
			Kakao.Share.createCustomButton({
			    container: '#kakaotalk-sharing-btn',
			    templateId: 89222,
			    templateArgs: {
			      title: 'ÎùºÏù¥Ïñ∏Ïù¥ Ï¶êÍ≤®Î®πÎçò Î∞îÎ°ú Í∑∏ Ìã¥ÏºÄÏù¥Ïä§ ÏπòÏ¶àÎ≥º',
			      description: 'Î∞îÎùºÎßå Î¥êÎèÑ Ï¶êÍ±∞ÏõåÏßÄÎäî ÌûêÎßÅ Ìå®ÌÇ§ÏßÄÏóêÎäî ÏãúÌÅ¨Î¶ø Ïä§ÌÜ†Î¶¨Í∞Ä Ïà®Ïñ¥ÏûàÏñ¥Ïöî.',
			      url: 'blog/myblog/blogWrite?bno=[[${blogWrite.writeId}]]'
			    },
			  });	
			
	</script>
	
</div>

</html>